<!DOCTYPE html>
<html>
<head>
    <title></title>

<script src="//content.jwplatform.com/libraries/XeGdlzmk.js"></script>

<meta name="deskURL" content="https://jwplayer.desk.com/admin/content-management/articles/1413089-javascript-api-reference/edit?select_filter=564475">
</head>

<body>
<p>This article provides a reference to all available JW Player <a href="http://www.jwplayer.com/products/jwplayer/javascript/" target="_blank">JavaScript API</a> calls. API calls below are grouped together in a logical way, while breaking each section into <strong>Getters</strong>, <strong>Setters</strong>, <strong>Events</strong>, and <strong>Miscellaneous</strong>.</p>

<div class="article_toc">
<h2>Table Of Contents</h2>

<nav>
<ul>
	<li><a href="#all">All</a></li>
	<li><a href="#setup">Setup</a></li>
	<li><a href="#playlist">Playlist</a></li>
	<li><a href="#buffer">Buffer</a></li>
	<li><a href="#playback">Playback</a></li>
	<li><a href="#seek">Seek</a></li>
	<li><a href="#volume">Volume</a></li>
	<li><a href="#resize">Resize</a></li>
	<li><a href="#quality">Quality</a></li>
	<li><a href="#captions">Captions</a></li>
	<li><a href="#controls">Controls</a></li>
	<li><a href="#advertising">Advertising</a></li>
	<li><a href="#metadata">Metadata</a></li>
	<li><a href="#sharing">Sharing</a></li>
	<li><a href="#related">Related</a></li>
</ul>
</nav>
</div>

<p>Also, note that all <strong>Events</strong> below are using the <strong>on</strong> listener, however it is also possible to register or remove each event with <strong>on</strong>, <strong>once</strong>, or <strong>off</strong>. The use of <strong>trigger</strong> may also be used for custom events. For an introduction to JW7&#39;s API, see the <a href="http://support.jwplayer.com/customer/portal/articles/1413074">JavaScript API Quick Start</a>.</p>

<p>Note that this document is a reference for the JW Player 7 API, which has changed substantially since JW6. Existing JW6 event listeners will continue working with JW7, though we do suggest updating them to this newer model. For the JW6 API, see our <a href="http://support.jwplayer.com/customer/portal/articles/2051720-javascript-api-reference-legacy">JW6 Javascript Reference</a></p>
<br />
<br />
<br />
<br />
<br />
<br />
&nbsp;
<hr />
<h2><a name="all"></a>All</h2>

<dl>
	<dt><strong>.on(&#39;all&#39;)</strong></dt>
	<dd>This singular API call can be used to gather <strong>all</strong> information from the player&#39;s API. <strong>Note:</strong> This will output a large amount of information and may degrade browser performance if it is used for an extended period of time.</dd>
</dl>

<h2><a name="setup"></a>Setup</h2>

<p>These API calls are used to set up players and learn when and with which technology is being instantiated. Both <strong>setup()</strong> and <strong>remove()</strong> fall under <strong>Miscellaneous</strong> due to the fact that they are not actually setting, but are rather building and removing players.</p>

<h3>Miscellaneous</h3>

<dl style="clear:none">
	<dt><strong>.setup(<em>options</em>)</strong></dt>
	<dd>Set up a new JW Player. The <strong>options</strong> parameter is required and must be in the form of an object. The only required property when setting up a JW Player embed is the <strong>file</strong> property. Without a file to play, JW Player cannot function. See the <a href="http://support.jwplayer.com/customer/portal/articles/1413113-configuration-options-reference" target="_blank">Configuration Options Reference</a> for a full list of all JW Player configuration options.</dd>
	<dt><strong>.remove()</strong></dt>
	<dd>Being the reverse of the setup() call, this call will remove a JW Player from the page. It ensures the player stops playback, the DOM is re-set to its original state and all event listeners and timers are cleaned up. Any listeners will need to be reinstantiated if another player is set up.</dd>
</dl>

<h3>Getters</h3>

<dl style="clear:none">
	<dt><strong>.getProvider()</strong></dt>
	<dd>Returns the provider being utilized by JW Player for a particular media file. This replaces JW6&#39;s <strong>getRenderingMode()</strong>, as JW7 will always technically render in html5 mode, even if it is using a flash-based provider.</dd>
</dl>

<dl style="clear:none">
	<dt><strong>.getContainer()</strong></dt>
	<dd>Returns the div which JW Player is being set up. This includes the ID and all styles/classes being applied.</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;ready&#39;)</strong></dt>
	<dd>Fired when the player has initialized in either Flash or HTML5 and is ready for playback.
	<ul>
		<li><strong>setupTime</strong> (Number): The amount of time (in milliseconds) for the player to go from <strong>setup()</strong> to <strong>ready</strong>.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;setupError&#39;)</strong></dt>
	<dd>Fired when neither the Flash nor HTML5 player could be setup. Event attributes:
	<ul>
		<li><strong>message</strong> (String): The error message that describes why the player could not be setup</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;remove&#39;)</strong></dt>
	<dd>Triggered when the player is taken off of a page via <strong>remove()</strong>.</dd>
</dl>

<hr />
<h2><a name="playlist"></a>Playlist</h2>

<p>These API calls are used for loading and retrieving the current playlist (of one or more items), as well as for navigating between playlist items.</p>

<p>The data model of a playlists is as follows:</p>

<ul>
	<li>The <strong>playlist</strong> is an Array, containing one or more playlist items.</li>
	<li>Each <strong>item</strong> is an Object, containing the <strong>title</strong> (String), <strong>description</strong> (String), <strong>mediaid</strong> (String), <strong>image</strong> (String), <strong>sources</strong> (Array) and <strong>tracks</strong> (Array) properties.</li>
	<li>The <strong>sources</strong> Array in turn contain a list of Objects, each with a <strong>file</strong>, <strong>type</strong>, <strong>label</strong> and <strong>default</strong> property.</li>
	<li>The <strong>tracks</strong> Array in turn contain a list of Objects, each with a <strong>file</strong>, <strong>kind</strong> and <strong>default</strong> property.</li>
</ul>

<p>Additionally, each playlist item has a <strong>file</strong> property, which acts as a shortcut to the <strong>file</strong> of the first entry in the <strong>sources</strong> Array. This shortcut makes it easier to do basic playlist loading or fetching, since most publishers will setup their playlist items with one file only.</p>

<p>See the <a href="http://support.jwplayer.com/customer/portal/articles/1413113-configuration-options-reference" target="_blank">Configurations Options Reference</a> for a description of each property and some example playlists.</p>

<h3>Getters</h3>

<dl>
	<dt><strong>.getPlaylist()</strong></dt>
	<dd>Returns the player&#39;s current playlist array.</dd>
	<dt><strong>.getPlaylistIndex()</strong></dt>
	<dd>Returns the <strong>index</strong> of the currently active item in the playlist.</dd>
	<dt><strong>.getPlaylistItem(<strong>index</strong>)</strong></dt>
	<dd>Returns the playlist item object at the specified index. If the index is not specified, the currently playing playlistItem is returned.</dd>
</dl>

<h3>Setters</h3>

<dl>
	<dt><strong>.load(<em>playlist</em>)</strong></dt>
	<dd>Loads a new playlist into the player. The <strong>playlist</strong> parameter is required and can be either:
	<ul>
		<li>An <strong>Array</strong>, containing playlist items.</li>
		<li>A <strong>String</strong>, referencing the location of an RSS feed/XML file.</li>
	</ul>
	For example, here&#39;s a simple call that loads a playlist with one item, with one source:

	<pre>
playerInstance.load([{file:&quot;/assets/myVideo.mp4&quot;}]);
</pre>
	</dd>
	<dt><strong>.playlistItem(<em>index</em>)</strong></dt>
	<dd>Start playback of the playlist item at the specified index.</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;playlist&#39;)</strong></dt>
	<dd>Fired when a new playlist has been loaded into the player. Note this event is not fired as part of the initial playlist load (playlist is loaded when <strong>on(&#39;ready&#39;)</strong> is called). Event attributes:
	<ul>
		<li><strong>playlist</strong> (Array): The new playlist; an array of playlist items.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;playlistItem&#39;)</strong></dt>
	<dd>Fired when the playlist index changes to a new playlist item. This event occurs before the player begins playing the new playlist item. Event attributes:
	<ul>
		<li><strong>index</strong> (Number): Zero-based index into the playlist array (e.g. 0 is the first item).</li>
		<li><strong>playlist</strong> (Array): The new playlist; an array of playlist items.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;playlistComplete&#39;)</strong></dt>
	<dd>Fired when the player is done playing all items in the playlist. However, if the <strong>repeat</strong> option is set <strong>true</strong>, this is never fired.</dd>
</dl>

<hr />
<h2><a name="buffer"></a>Buffer</h2>

<p>These API calls are used to update clients with the percentage of a file that is buffered into the player. This only applies to progressive downloads of media (<em>MP4/FLV/WebM</em> and <em>AAC/MP3/Vorbis</em>); streaming media (<em>HLS/RTMP/YouTube/DASH</em>) do not expose this behavior.</p>

<h3>Getters</h3>

<dl>
	<dt><strong>.getBuffer()</strong></dt>
	<dd>Returns the current PlaylistItem&#39;s filled buffer, as a percentage (0 to 100) of the total video&#39;s length.</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;bufferChange&#39;)</strong></dt>
	<dd>Fired when the currently playing item loads additional data into its buffer. Event attributes:
	<ul>
		<li><strong>buffer</strong> (Number): Percentage between 0 and 100 of the current media that is buffered.</li>
	</ul>
	</dd>
</dl>

<hr />
<h2><a name="playback"></a>Playback</h2>

<p>These API calls are used to retrieve and change the current playback state of the player. Playback controllers are listed under <strong>Miscellaneous</strong>, as they directly control playback rather than the player state.</p>

<p><strong>Note: JW7 will return playback states in lower case. If you are using JW6, states will be returned in all capital letters. We suggest using <a href="http://www.w3schools.com/jsref/jsref_touppercase.asp">toUpperCase()</a> if this affects your API setup.</strong></p>

<h3>Miscellaneous</h3>

<dl>
	<dt><strong>.play(<em>state</em>)</strong></dt>
	<dd>Toggles playback of the player. If the state is set <strong>true</strong> the player will start playing, if set <strong>false</strong> the player will pause and if omitted, the player will toggle playback.</dd>
	<dt><strong>.pause(<em>state</em>)</strong></dt>
	<dd>Toggles playback of the player. If the state is set <strong>true</strong> the player will pause, if set <strong>false</strong> the player will start playing and if omitted, the player will toggle playback.</dd>
	<dt><strong>.stop()</strong></dt>
	<dd>Stops the player (returning it to the <strong>idle</strong> state) and unloads the currently playing media file.</dd>
</dl>

<h3>Getters</h3>

<dl>
	<dt><strong>.getState()</strong></dt>
	<dd>Returns the player&#39;s current playback state. These can be:
	<ul>
		<li><strong>idle</strong>: either playback has not started or playback was stopped (due to a stop() call or an error). Either the <em>play</em> or the <em>error</em> icon is visible in the display.</li>
		<li><strong>buffering</strong>: user pressed play, but sufficient data to start playback has to be loaded first. The <em>buffering</em> icon is visible in the display.</li>
		<li><strong>playing</strong>: the video is currently playing. No icon is visible in the display.</li>
		<li><strong>paused</strong>: the video is currently paused. The <em>play</em> icon is visible in the display.</li>
	</ul>
	</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;play&#39;)</strong></dt>
	<dd>Fired when the player enters the playing state. Event attributes:
	<ul>
		<li><strong>oldstate</strong> (String): the state the player moved from. Can be buffering or paused.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;pause&#39;)</strong></dt>
	<dd>Fired when the player enters the paused state. Event attributes:
	<ul>
		<li><strong>oldstate</strong> (String): the state the player moved from. Can be buffering or playing.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;buffer&#39;)</strong></dt>
	<dd>Fired when the player enters the buffering state. Event attributes:
	<ul>
		<li><strong>newstate</strong> (String): The state the player moved to. Can be <strong>buffering</strong>, <strong>playing</strong> or <strong>paused</strong>.</li>
		<li><strong>oldstate</strong> (String): The state the player moved from. Can be <strong>idle</strong>, <strong>playing</strong> or <strong>paused</strong>.</li>
		<li><strong>reason</strong> (String): The reason why a buffer event occurred. Can be <strong>loading</strong>, <strong>complete</strong>, <strong>stalled</strong>, or <strong>error</strong>.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;idle&#39;)</strong></dt>
	<dd>Fired when the player enters the <strong>idle</strong> state. Event attributes:
	<ul>
		<li><strong>oldstate</strong> (String): the state the player moved from. Can be buffering, playing or paused.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;complete&#39;)</strong></dt>
	<dd>Fired when an item completes playback. It has no event attributes.</dd>
	<dt><strong>.on(&#39;firstFrame&#39;)</strong></dt>
	<dd><strong>Useful for QOE tracking - </strong>Triggered by a video&#39;s first frame event (Or the instant an audio file begins playback). This event pinpoints when content playback begins.
	<ul>
		<li><strong>loadTime</strong> (Number): The amount of time (In milliseconds) it takes for the player to transition from a play attempt to a firstFrame event. Use this to determine the period of time between a user pressing play and the same user viewing their content.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;error&#39;)</strong></dt>
	<dd>Fired when a media error has occurred, causing the player to stop playback and go into <strong>idle</strong> mode. Event attributes:
	<ul>
		<li><strong>message</strong> (String): The reason for the error. See <a href="http://support.jwplayer.com/customer/portal/articles/1403682-troubleshooting-your-setup" target="_blank">Troubleshooting your Setup</a> for a list of possible media errors.</li>
	</ul>
	</dd>
</dl>

<p><strong>Note:</strong> A media error event is not fired when a player setup error occurs. Use <strong>on(&#39;setupError&#39;)</strong> (see above) to catch these errors.</p>

<hr />
<h2><a name="seek"></a>Seek</h2>

<p>These API calls are used to retrieve and update the current media playback position.</p>

<h3>Getters</h3>

<dl>
	<dt><strong>.getPosition()</strong></dt>
	<dd>Returns the current playback position in seconds, as a number.</dd>
	<dt><strong>.getDuration()</strong></dt>
	<dd>Returns the currently playing PlaylistItem&#39;s duration in seconds, as a number. If a duration of <strong>-1</strong> is returned, the current media is a live stream and therefore has no position, duration or seek capability.</dd>
</dl>

<h3>Setters</h3>

<dl>
	<dt><strong>.seek(<em>position</em>)</strong></dt>
	<dd>Jump to the specified position within the currently playing item. The <strong>position</strong> is required and must be provided as an integer, in seconds.</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;seek&#39;)</strong></dt>
	<dd>Fired after a seek has been requested either by scrubbing the controlbar or through the API. Event attributes:
	<ul>
		<li><strong>position</strong> (Number): The position of the player before the player seeks (in seconds).</li>
		<li><strong>offset</strong> (Number): The user requested position to seek to (in seconds). Note the actual position the player will eventually seek to may differ, e.g. because Flash progressive can only seek to keyframes and HLS can only seek to fragment boundaries.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;seeked&#39;)</strong></dt>
	<dd>Triggered when content playback resumes after seeking. As opposed to <strong>on(&#39;seek&#39;)</strong>, this API listener will only trigger when playback actually continues.</dd>
	<dt><strong>.on(&#39;time&#39;)</strong></dt>
	<dd>While the player is playing, this event is fired as the playback position gets updated. This may occur as frequently as 10 times per second. Event attributes:
	<ul>
		<li><strong>duration</strong> (Number): Duration of the current item in seconds.</li>
		<li><strong>position</strong> (Number): Playback position in seconds.</li>
	</ul>
	</dd>
</dl>

<p>Note that seeking for progressive downloads in Flash mode only works within the already downloaded portion. When seeking beyond that section, the video seeks to the last downloaded frame. This issue is not present for HTML5, so should only be relevant for IE8.</p>

<hr />
<h2><a name="volume"></a>Volume</h2>

<p>These API calls are used to change the playback volume of the player. Note they only work on desktop browsers, <strong>not</strong> on mobile devices.</p>

<h3>Getters</h3>

<dl>
	<dt><strong>.getMute()</strong></dt>
	<dd>Returns the player&#39;s current audio muting state (<strong>true</strong> when there&#39;s no sound).</dd>
	<dt><strong>.getVolume()</strong></dt>
	<dd>Returns the current playback volume percentage, as a number from 0 to 100.</dd>
</dl>

<h3>Setters</h3>

<dl>
	<dt><strong>.setMute(<em>state</em>)</strong></dt>
	<dd>Change the player&#39;s mute state (no sound). If the state is undefined, perform a muting toggle. Otherwise, mute the player if <strong>true</strong>, and unmute if <strong>false</strong>.</dd>
	<dt><strong>.setVolume(<em>volume</em>)</strong></dt>
	<dd>Sets the player&#39;s audio volume percentage, as a number between 0 and 100.</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;mute&#39;)</strong></dt>
	<dd>Fired when the player has gone into or out of the mute state. Event attributes:
	<ul>
		<li><strong>mute</strong> (Boolean): New mute state.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;volume&#39;)</strong></dt>
	<dd>Fired when the player audio volume percentage was changed. Event attributes:
	<ul>
		<li><strong>volume</strong> (Number): New volume percentage.</li>
	</ul>
	</dd>
</dl>

<hr />
<h2><a name="resize"></a>Resize</h2>

<p>These API calls are used to retrieve and update the current player dimensions and fullscreen state. Note there is no API call to <strong>set fullscreen</strong>, due to phishing-related security restrictions in both Flash and HTML5.</p>

<h3>Getters</h3>

<dl>
	<dt><strong>.getFullscreen()</strong></dt>
	<dd>Returns the current fullscreen state (<strong>true</strong> or <strong>false</strong>).</dd>
	<dt><strong>.getHeight()</strong></dt>
	<dd>Returns the player&#39;s current height, in pixels.</dd>
	<dt><strong>.getWidth()</strong></dt>
	<dd>Returns the player&#39;s current width, in pixels.</dd>
</dl>

<h3>Setters</h3>

<dl>
	<dt><strong>.resize(<em>width</em>, <em>height</em>)</strong></dt>
	<dd>Resizes the player to the specified width and height, in pixels. It&#39;s also possible to set percentages (e.g. <strong>50%</strong>).</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;fullscreen&#39;)</strong></dt>
	<dd>Fired when the player toggles to/from fullscreen. Event attributes:
	<ul>
		<li><strong>fullscreen</strong> (Boolean): new fullscreen state.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;resize&#39;)</strong></dt>
	<dd>Fired when the player&#39;s on-page dimensions have changed. Is not fired in response to a fullscreen change. Event attributes:
	<ul>
		<li><strong>width</strong> (Number): The new width of the player.</li>
		<li><strong>height</strong> (Number): The new height of the player.</li>
	</ul>
	</dd>
</dl>

<hr />
<h2><a name="quality"></a>Quality</h2>

<p>These API calls are used to listen to or update the video quality if multiple quality levels of a video are provided.</p>

<h3>Getters</h3>

<dl>
	<dt><strong>.getQualityLevels()</strong></dt>
	<dd>Returns an array with quality levels from the player. Each level is an object that contains a <strong>label</strong> property.</dd>
	<dt><strong>.getCurrentQuality()</strong></dt>
	<dd>Returns the index of the currently active quality level.</dd>
	<dt><strong>.getVisualQuality()</strong></dt>
	<dd>Returns information about the currently playing quality of a stream. This will include <strong>level</strong>, <strong>bitrate</strong>, <strong>index</strong>, and <strong>resolution</strong>, as well as the reasons that this quality was selected. This will not return information for static video files.</dd>
</dl>

<h3>Setters</h3>

<dl>
	<dt><strong>.setCurrentQuality(<em>index</em>)</strong></dt>
	<dd>Change the quality level to the provided index. The index must be within the list provided by <strong>getQualityLevels()</strong>.</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;levels&#39;)</strong></dt>
	<dd>Fired when the list of available quality levels is updated. Happens e.g. shortly after a playlist item starts playing. Event attributes:
	<ul>
		<li><strong>levels</strong> (Array): the full array with new quality levels.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;levelsChanged&#39;)</strong></dt>
	<dd>Fired when the active quality level is changed. Happens in response to e.g. a user clicking the controlbar quality menu or a script calling <strong>setCurrentQuality</strong>. Event attributes:
	<ul>
		<li><strong>currentQuality</strong> (Number): index of the new quality level in the <strong>getQualityLevels()</strong> array.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;visualQuality&#39;)</strong></dt>
	<dd>Fired when the active quality level is changed for HLS. This is different than <strong>on(&#39;qualityChange&#39;)</strong> since this will trigger when adaptive streaming automatically shifts quality. In addition, this will also provide reasons why this change happened, as well as information about <em>how</em> and <em>why</em> this change was triggered. Event attributes:
	<ul>
		<li><strong>mode</strong> (String): The type of quality selection that has been enabled with the player. This will read <strong>auto</strong> when a user is relying on our automatic quality determination or <strong>manual</strong> when a user has selected a static quality.</li>
		<li><strong>reason</strong> (String): Why the quality was changed. This can be <strong>initial choice</strong></li>
		<li><strong>label</strong> (String): Information about the quality that was changed. This will display your <strong>label</strong>, <strong>bitrate</strong>, <strong>index</strong>, and <strong>resolution</strong>. This returns the same information as <strong>getVisualQuality()</strong>.</li>
	</ul>
	</dd>
</dl>

<hr />
<h2><a name="audio"></a>Audio Tracks API</h2>

<p>These API calls are used to listen to or update the audio track if multiple audio tracks of a video are provided.</p>

<h3>Getters</h3>

<dl>
	<dt><strong>.getAudioTracks()</strong></dt>
	<dd>Returns an array with audio tracks from the player. Each track is an object that contains a <strong>label</strong> property.</dd>
	<dt><strong>.getCurrentAudioTrack()</strong></dt>
	<dd>Returns the index of the currently active audio track.</dd>
</dl>

<h3>Setters</h3>

<dl>
	<dt><strong>.setCurrentAudioTrack(<em>index</em>)</strong></dt>
	<dd>Change the audio track to the provided index. The index must be within the list provided by <strong>getAudioTracks</strong>.</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;audioTracks&#39;)</strong></dt>
	<dd>Fired when the list of available audio tracks is updated. Happens e.g. shortly after a playlist item starts playing. Event attributes:
	<ul>
		<li><strong>levels</strong> (Array): the full array with new quality levels.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;audioTrackChanged&#39;)</strong></dt>
	<dd>Fired when the active audio track is changed. Happens in response to e.g. a user clicking the audio tracks menu or a script calling <strong>setCurrentAudioTrack()</strong>. Event attributes:
	<ul>
		<li><strong>currentTrack</strong> (Number): index of the new quality level in the <strong>getAudioTracks()</strong> array.</li>
	</ul>
	</dd>
</dl>

<hr />
<h2><a name="captions"></a>Captions</h2>

<p>These API calls are used to listen to or update the active captions track if one or more closed captions tracks are provided with a video. This API can be used to log captions usage or build your own CC menu outside JW Player.</p>

<h3>Getters</h3>

<dl>
	<dt><strong>.getCaptionsList()</strong></dt>
	<dd>Returns an array with captions tracks from the player. Each track is an object that contains a <strong>label</strong> property.</dd>
	<dt><strong>.getCurrentCaptions()</strong></dt>
	<dd>Returns the index of the currently active captions track. Note the captions are <strong>Off</strong> if the index is 0.</dd>
</dl>

<h3>Setters</h3>

<dl>
	<dt><strong>.setCurrentCaptions(<em>index</em>)</strong></dt>
	<dd>Change the visible captions track to the provided index. The index must be within the list provided by <strong>getCaptionsList</strong>. Note an index of 0 always turns the captions Off.</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;captionsList&#39;)</strong></dt>
	<dd>Fired when the list of available captions tracks is updated. Happens shortly after a playlist item starts playing. Event attributes:
	<ul>
		<li><strong>tracks</strong> (Array): the full array with new captions tracks.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;captionsChanged&#39;)</strong></dt>
	<dd>Fired when the active captions track is changed. Happens in respons to e.g. a user clicking the controlbar CC menu or a script calling <strong>setCurrentCaptions()</strong>. Event attributes:
	<ul>
		<li><strong>track</strong> (Number): index of the new active captions track in the <strong>getCaptionsList()</strong> array. Note the captions are <strong>Off</strong> if the track is 0.</li>
	</ul>
	</dd>
</dl>

<hr />
<h2><a name="controls"></a>Controls</h2>

<p>This API call allows developers to interact with the built-in player controls (dock buttons, controlbar and display icons). Note that enabled controls will still fade out during playback if the video has no keyboard/mouse focus. When controls are disabled, JW Player is completely chrome-less.</p>

<h3>Getters</h3>

<dl>
	<dt><strong>.getControls()</strong></dt>
	<dd>Returns whether the built-in controls are currently enabled.</dd>
	<dt><strong>.getSafeRegion()</strong></dt>
	<dd>Returns an array with the region of the display not used by the controls. Scripts and plugins use this information to ensure their visual assets don&#39;t overlap with the controls. An example region the call can return is:
	<pre>
{ x:0, y:30, width:480, height:200 }</pre>
	</dd>
</dl>

<h3>Setters</h3>

<dl>
	<dt><strong>.addButton(<em>icon, label, handler, id</em>)</strong></dt>
	<dd>Adds a button to the dock. Attributes:
	<ul>
		<li><strong>icon</strong> (String): The URL to a GIF, JPG or PNG image that is displayed in the button. Monochromatic, white icons of about 20x20 pixels work well with many skins.</li>
		<li><strong>label</strong> (String): Human-readable label of the button (e.g. <em>Buy this Video</em>), visible in a tooltip on rollover.</li>
		<li><strong>handler</strong> (Function): The JavaScript function that is called when the button is clicked.</li>
		<li><strong>id</strong> (String): The string used to identify the button. It must be unique across all buttons (an error is thrown otherwise).</li>
	</ul>
	</dd>
	<dt><strong>.removeButton(<em>id</em>)</strong></dt>
	<dd>Removes a button from the dock. Attributes:
	<ul>
		<li><strong>id</strong> (String): The id used to identify the button when it was added.</li>
	</ul>
	</dd>
	<dt><strong>.setControls(<em>Boolean</em>)</strong></dt>
	<dd>Enable the built-in controls by setting them <strong>true</strong>, disable the controls by setting them <strong>false</strong>.</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;controls&#39;)</strong></dt>
	<dd>Fired when controls are enabled or disabled by a script. Event attributes:
	<ul>
		<li><strong>controls</strong> (Boolean): New state of the controls. Is <strong>true</strong> when the controls were just enabled.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;displayClick&#39;)</strong></dt>
	<dd>Fired when a user clicks the video display. Especially useful for wiring your own controls when the built-in ones are disabled. Note the default click action (toggling play/pause) will still occur if controls are enabled. There are no event attributes.</dd>
</dl>

<hr />
<h2><a name="advertising"></a>Advertising</h2>

<p>This API provides developers with more control over the advertising functionality of the <strong>Advertising</strong> edition of JW Player. For <strong>VAST</strong> and <strong>IMA</strong> advertising plugins, this API allows impression verification, custom scheduling, tag waterfalling and multiple companions.</p>

<h3>Setters</h3>

<dl>
	<dt><strong>.playAd(<em>tag</em>)</strong></dt>
	<dd>VAST and IMA. Used to play an ad <strong><em>right now</em></strong>, which is primarily useful for situations where the built-in ad schedule of JW Player cannot be used.(e.g. for live streaming or dynamic ads for playlist items) It has a single attribute:
	<ul>
		<li><strong>tag</strong> (String): The VAST tag that should be loaded into the player.</li>
	</ul>

	<p>We recommend to only call <strong>playAd</strong> in one of these four situations:</p>

	<ol>
		<li>inside a JW Player event handler for <strong>onBeforePlay()</strong>, to trigger a pre-roll.</li>
		<li>inside a JW Player event handler for <strong>onTime()</strong>, to trigger a mid-roll.</li>
		<li>inside a event handler for <strong>onBeforeComplete()</strong>, to trigger a post-roll.</li>
		<li>Outside of event handlers, only when the player is in the <strong>playing</strong> state.</li>
	</ol>

	<p>Note that as of JW Player 7.0.0, playAd() supports waterfalling via ad tag arrays. This will only work when our VAST client is utilized.</p>
	</dd>
</dl>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;beforePlay&#39;)</strong></dt>
	<dd>Fired just before the player begins playing. Unlike the onPlay event, the player will not have begun playing or buffering when triggered, which makes this the right moment to insert preroll ads using <strong>playAd()</strong>. It has no event attributes.</dd>
	<dt><strong>.on(&#39;beforeComplete&#39;)</strong></dt>
	<dd>Fired just before the player completes playing. Unlike the onComplete event, the player will not have moved on to either showing the replay screen or advancing to the next playlistItem, which makes this the right moment to insert post-roll ads using <strong>playAd()</strong>. It has no event attributes.</dd>
	<dt><strong>.on(&#39;adClick&#39;)</strong></dt>
	<dd>VAST and IMA. Fired whenever a user clicks an ad to be redirected to its landing page. Event attributes:
	<ul>
		<li><strong>tag</strong> (String): The ad tag that is currently playing.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;adCompanions&#39;)</strong></dt>
	<dd>VAST and IMA. Fired whenever an ad contains companions. Event attributes:
	<ul>
		<li><strong>tag</strong> (String): The ad tag that is currently playing.</li>
		<li><strong>companions</strong> (Array): An array of all companions that were encountered.</li>
	</ul>

	<p>Every item in the <strong>companions</strong> element in turn has the following attributes:</p>

	<ol>
		<li><strong>width</strong> (Number): width of the companion in pixels.</li>
		<li><strong>height</strong> (Number): height of the companion in pixels.</li>
		<li><strong>type</strong> (String): one of <strong>static</strong>, <strong>html</strong> or <strong>iframe</strong>.</li>
		<li><strong>resource</strong> (String): Depending upon the type, this is the URL to the static/iframe resource, or the raw HTML content.</li>
		<li><strong>click</strong> (String): URL to link to when clicking the companion. Only available if the type is static.</li>
	</ol>
	</dd>
	<dt><strong>.on(&#39;adComplete&#39;)</strong></dt>
	<dd>VAST and IMA. Fired whenever an ad has completed playback. Event attributes:
	<ul>
		<li><strong>tag</strong> (String): The ad tag that is currently playing.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;adSkipped&#39;)</strong></dt>
	<dd>VAST and IMA. Fired whenever an ad has been skipped. Event attributes:
	<ul>
		<li><strong>tag</strong> (String): The ad tag that was skipped.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;adError&#39;)</strong></dt>
	<dd>VAST and IMA. Fired whenever an error prevents the ad from playing. <strong>Note: Based on how Google&#39;s SDK operates, this event may fire multiple times for a single tag if Google IMA is being used. If you are using onAdError to track errors with Google IMA, this should be taken into account.</strong><br />
	Event attributes:
	<ul>
		<li><strong>tag</strong> (String): The ad tag that is currently playing.</li>
		<li><strong>message</strong> (String): The error message.</li>
	</ul>

	<p>The following error messages are possible:</p>

	<ol>
		<li><strong>invalid ad tag</strong> (e.g. invalid XML, broken VAST)</li>
		<li><strong>ad tag empty</strong> (e.g. no ad available after playing through wrapped ads)</li>
		<li><strong>no compatible creatives</strong> (e.g. FLV video creative in HTML5)</li>
		<li><strong>error playing creative</strong> (e.g. a 404 on the MP4 video)</li>
		<li><strong>error loading ad tag</strong> (for all else)</li>
	</ol>
	</dd>
	<dt><strong>.on(&#39;adRequest&#39;)</strong></dt>
	<dd>VAST only. Fired whenever an ad is requested by the player. Event attributes:
	<ul>
		<li><strong>tag</strong> (String): The ad tag that is being requested.</li>
		<li><strong>adposition</strong> (String): Whether an ad is in a <strong>pre</strong>, <strong>mid</strong>, or <strong>post</strong> position.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;adStarted&#39;)</strong></dt>
	<dd><strong>VPAID-only</strong> This API will trigger when a VPAID ad creative signals to our player that it is starting. This differs from an adImpression, since the advertisement may not yet be visible. Event attributes:
	<ul>
		<li><strong>tag</strong> (String): The ad tag that is currently playing.</li>
		<li><strong>creativetype</strong> (String): The type of VPAID ad that is being played.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;adImpression&#39;)</strong></dt>
	<dd>VAST and IMA. Fired based on the IAB definition of an ad impression. This occurs the instant a video ad begins to play. Event attributes:
	<ul>
		<li><strong>tag</strong> (String): The ad tag that is currently playing.</li>
		<li><strong>creativetype</strong> (String): The type of ad that is being played.</li>
		<li><strong>adposition</strong> (String): Defines if an ad called in a <strong>pre</strong>, <strong>mid</strong>, or <strong>post</strong> position</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;adTime&#39;)</strong></dt>
	<dd>VAST and IMA. Fired while ad playback is in progress. Event attributes:
	<ul>
		<li><strong>tag</strong> (String): The ad tag that is currently playing.</li>
		<li><strong>position</strong> (String): The current playback position in the ad creative.</li>
		<li><strong>duration</strong> (Number): The total duration of the ad creative.</li>
		<li><strong>sequence</strong> (Number): Returns the sequence number the ad is a part of.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;adPause&#39;)</strong></dt>
	<dd>VAST and IMA. Fired whenever an ad is paused. Event attributes:
	<ul>
		<li><strong>tag</strong> (String): The ad tag that is currently playing.</li>
	</ul>
	</dd>
	<dt><strong>.on(&#39;adPlay&#39;)</strong></dt>
	<dd>VAST and IMA. Fired whenever an ad starts playing. Will fire after an ad is unpaused. Event attributes:
	<ul>
		<li><strong>tag</strong> (String): The ad tag that is currently playing.</li>
	</ul>
	</dd>
</dl>

<p>Note this <a href="/customer/portal/topics/564475-javascript-api/articles?page=2">JavaScript API section</a> includes examples on doing impression verification, custom scheduling, tag waterfalling and multiple companions with the Advertising API.</p>

<hr />
<h2><a name="metadata"></a>Metadata</h2>

<p>This API call allows developers to listen for metadata embedded in the media file (e.g. dimensions or TX3G cues in MP4 files). It is intended debugging purposes. Do not rely on this API in production environments, since metadata callbacks are subject to sudden change!</p>

<h3>Events</h3>

<dl>
	<dt><strong>.on(&#39;meta&#39;)</strong></dt>
	<dd>Fired when new metadata has been broadcasted by the player. Event attributes:
	<ul>
		<li><strong>metadata</strong> (Object): Object containing the new metadata. This can be metadata hidden in the media (XMP, ID3, keyframes) or metadata broadcasted by the playback provider (bandwidth, quality switches).</li>
	</ul>
	</dd>
</dl>

<h2><a name="sharing"></a>Sharing</h2>

<p>New to our sharing plugin in 7.2, is the inclusion of a fully-functional API. This works in conjunction with our new getPlugin() method. For instance, all of our sharing instances are using the getPlugin(&lsquo;sharing&rsquo;) API call to refer to this particular plugin. The following will target our sharing plugin:</p>

<pre>
var sharingPlugin = playerInstance.getPlugin(&#39;sharing&#39;);
</pre>

<p>All sharingPlugin references below will assume that the above code is implemented on your page.</p>

<h3>Setters</h3>

<ul>
	<li><strong>sharingPlugin.open() - </strong>Opens the sharing plugin. This will also pause content if it is triggered during playback.</li>
	<li><strong>sharingPlugin.close() - </strong>Closes the sharing plugin if it is opened. This will resume playback if the sharing overlay was triggered during content.</li>
</ul>

<h3>Events</h3>

<ul>
	<li><strong>sharingPlugin.on(&#39;open&#39;) - </strong>Listens for the opening of the plugin.</li>
	<li><strong>sharingPlugin.on(&#39;close&#39;) - </strong>Listens for the closing of the plugin.</li>
	<li><strong>sharingPlugin.on(&#39;click&#39;) - </strong>Triggered whenever somebody shares content from within the sharing plugin.<br />
	<strong>Returns: </strong>Label of the sharing method that was used. (<strong>method: facebook | method: link | method: embed</strong>)</li>
</ul>

<h2><a name="related"></a>Related</h2>

<p>Similar to our new Sharing refactor, our Related Plugin has received a brand new API. Similar to sharing, the related api examples below will assume that the following code is implemented:</p>

<pre>
var relatedPlugin = jwplayer().getPlugin(&#39;related&#39;);
</pre>

<p>Using this, the following API calls apply:</p>

<h3>Setters</h3>

<ul>
	<li><strong>relatedPlugin.open();</strong><br />
	Opens the related plugin overlay. This will pause content if it is currently playing.</li>
	<li><strong>relatedPlugin.close();</strong><br />
	Closes the related plugin overlay. This will resume content.</li>
</ul>

<h3>Events</h3>

<ul>
	<li><strong>relatedPlugin.on(&#39;open&#39;);</strong><br />
	Triggers when the related plugin is opened.<br />
	<strong>Returns:</strong>

	<ul>
		<li><strong>method - </strong>The method used to open the plugin. (api, complete, or click)</li>
		<li><strong>url - </strong>URL of the feed that was loaded into the player.</li>
		<li><strong>items - </strong>An array of all objects that have been loaded into the related plugin.</li>
	</ul>
	</li>
	<li><strong>relatedPlugin.on(&#39;close&#39;);</strong><br />
	Triggers when the related plugin is closed.<br />
	<strong>Returns:</strong>
	<ul>
		<li><strong>method - The method used to open the plugin. (api, complete, or click)</strong></li>
	</ul>
	</li>
	<li><strong>relatedPlugin.on(&#39;play&#39;);</strong><br />
	Triggers when a user selects an object in a related feed.<br />
	<strong>Returns:</strong>
	<ul>
		<li><strong>item - </strong>Metadata for the chosen item specified in the feed.</li>
		<li><strong>auto - </strong>Returns true if started via autoplay; false if manually started.</li>
		<li><strong>position - </strong>Ordinal position of the related video that has been chosen.</li>
	</ul>
	</li>
</ul>
</body>
</html>