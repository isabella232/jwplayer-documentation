<!DOCTYPE html>
<html>
<head>
    <title></title>

<script src="//content.jwplatform.com/libraries/XeGdlzmk.js"></script>

<meta name="deskURL" content="https://jwplayer.desk.com/admin/content-management/articles/1413074-javascript-api-quick-start/edit?select_filter=564475">
</head>

<body>
<p>JW Platform contains a security feature that enables you to lock down public access to videos and/or players. When either videos or players are secured, they can only be requested through so-called signed URLs. These URLs are valid for a short time, so people stealing your video or embed codes will soon end up with broken links.</p>

<div class="article_callout">This document applies to users of <strong>JW Platform</strong>. Don&#39;t have Hosting? <a href="http://www.jwplayer.com/pricing/">Upgrade Now</a>.</div>

<h2>Enabling Signing</h2>

<p>The setting to enable video/player security can be found in the Account tab of the CMS.</p>

<p><img alt="Account security setting" src="/customer/portal/attachments/239095" /></p>

<p>Here&#39;s what the four options do:</p>

<dl>
	<dt>Allow Video Downloads and Player Embeds</dt>
	<dd>This is the lowest security setting. Anybody will be able to download your content and embed your player on their website. This setting is great if you wish to make your content viral, e.g. by <a href="/customer/portal/articles/1483088-social-sharing-with-jw-platform">using Social Sharing</a></dd>
	<dt>Secure Video Downloads, Allow Player Embeds</dt>
	<dd>With this setting anyone will still be able to embed your player into their website, but people will not be able to link to your videos. This means that people cannot just download and/or deep-link to your videos. If you do wish to make download links available, you will have to generate a signed URL (see below).</dd>
	<dt>Allow Video Downloads, Secure Player Embeds</dt>
	<dd>Use this setting if you want to lock down embedding of your players, e.g. when you rely on advertising. You need to have a piece of code on your website to dynamically generate signed player links (see below).</dd>
	<dt>Secure Video Downloads and Player Embeds</dt>
	<dd>This is the tightest setting. Both video download links and player embed codes need to be signed in order to work.</dd>
</dl>

<h2>Signing Overview</h2>

<p>URL Signing is a very common content protection mechanism and essentially works as follows:</p>

<ul>
	<li>You calculate a <a href="http://en.wikipedia.org/wiki/Md5sum">signature</a> based on the required expiration time, the path of the link, and the secret key of your account.</li>
	<li>In the video request to our content server you send us the path of the link, the required expiration time and the signature that you generated.</li>
	<li>We know your secret key too, so we calculate a signature based on the path of the link, the expiration time and your secret key.</li>
	<li>If the signature that we calculated is the same as the one you sent us, and the the expiration time is still in the future, our contentserver will then serve up the content that was requested.</li>
	<li>If the signature doesn&#39;t match, or the timestamp is outdated, we deny the request.</li>
</ul>

<h2>Signing Walkthrough</h2>

<p>This article has attached both a <a href="http://support-static.jwplayer.com/API/php-example.txt">PHP example script</a> and a <a href="http://support-static.jwplayer.com/API/python-example.txt">Python example script</a>. We now walk through the PHP example to explain how the signing actually works:</p>

<pre>
if($timeout) {
    $expires = time() + $timeout;
} else { 
    $expires = time() + 3600;
}
</pre>

<p>First we set the timeout time. The timeout time is the UNIX timestamp of now plus the timeout in seconds. If no timeout has been set, this script assumes an expire time of an hour.</p>

<pre>
$signature = md5($path.&#39;:&#39;.$expires.&#39;:&#39;.$secret);</pre>

<p>Here we build a signature. The signature is an MD5sum of the path, the expire time and the secret key of your account. If we use the filename and the key from the example the command would look as follows when the values have been filled out:</p>

<pre>
$signature = md5(videos/nPripu9l.mp4:1271760610:oJ1UsW4hptQ3LfSrle0j7mnf);</pre>

<p>The last part is the construction of the actual URL:</p>

<pre>
if($domain) {
    $url = &#39;http://&#39;.$domain.&#39;/&#39;.$path.&#39;?exp=&#39;.$expires.&#39;&amp;sig=&#39;.$signature;
} else {
    $url = &#39;http://content.jwplatform.com/&#39;.$path.&#39;?exp=&#39;.$expires.&#39;&amp;sig=&#39;.$signature;
}
return $url;
</pre>

<p>If you <a href="/customer/portal/articles/1433702-dns-masking-the-jw-platform">DNS mask our contentserver</a> you will have to enter the DNS mask that you used here, otherwise the script assumes that you&#39;re using embed links straight from our content server. Here we use the data that you entered and the signature you generated to construct a final URL which looks something like this:</p>

<pre>
http://dashboard.jwplatform.com/videos/nPripu9l.mp4?exp=1271760610&amp;sig=b59b91370f4faf4815b6736db10e5041</pre>
</body>
</html>