<!DOCTYPE html>
<html>
<head>
    <title></title>

<script src="//content.jwplatform.com/libraries/XeGdlzmk.js"></script>

<meta name="deskURL" content="https://jwplayer.desk.com/admin/content-management/articles/1432026-vmap-ad-schedule/edit?select_filter=605644">
</head>

<body>
<div class="article_callout">This document applies to users of <strong>JW Player Ads</strong>. Don&#39;t have <a href="http://www.jwplayer.com/products/jwplayer-ads/" target="_blank">Ads</a>? &nbsp;<a href="http://www.jwplayer.com/pricing/">Upgrade Now</a>.</div>

<p>The IAB Video Multiple Ad Playlist, or <a href="http://www.iab.net/guidelines/508676/digitalvideo/vsuite/vmap" target="_blank">VMAP</a>, is an XML template that video content owners and ad networks can use to schedule multiple ad insertions from a single tag. This method of ad scheduling is supported via VAST and Google IMA plugins.</p>

<p>A VMAP xml document can be setup to contain ad schedule information in the form of percentage offsets, exact times within a video, and shorthand notation for pre-roll and post-roll slots. All of this can of course be done in the <strong>schedule</strong> configuration block but the VMAP tag provides an easy way to create an entire schedule from an ad network.</p>

<p><strong>Note: </strong>JW Player only accepts VAST 3.0 ad tags within a VMAP response.</p>

<h2>Configuring VMAP</h2>

<p>Since the VMAP xml document contains all of the information to schedule ads, in order to use one in the JW Player <strong>Ads</strong> edition, call up the schedule configuration block and set it to the location of your VMAP tag.</p>

<pre>
advertising:{
   client:&quot;vast&quot;,
   schedule:&quot;//domain/yourvmaptag.xml&quot;
}
</pre>

<p>All ad configuration options are supported when using VMAP</p>

<h3>Sample VMAP tag</h3>

<p>This is what a VMAP schedule tag looks like with a Pre-Roll, Mid-Roll, and Post-Roll.</p>

<pre>
&lt;vmap:VMAP xmlns:vmap=&quot;http://www.iab.net/vmap-1.0&quot; version=&quot;1.0&quot;&gt;
  &lt;vmap:AdBreak breakType=&quot;linear&quot; breakId=&quot;mypre&quot; timeOffset=&quot;start&quot;&gt;
    &lt;vmap:AdSource allowMultipleAds=&quot;true&quot; followRedirects=&quot;true&quot; id=&quot;1&quot;&gt;
      &lt;vmap:VASTAdData&gt;
        &lt;VAST version=&quot;3.0&quot; xsi:noNamespaceSchemaLocation=&quot;vast.xsd&quot;&gt;
        ...
        &lt;/VAST&gt;
      &lt;/vmap:VASTAdData&gt;
    &lt;/vmap:AdSource&gt;
    &lt;vmap:TrackingEvents&gt;
      &lt;vmap:Tracking event=&quot;breakStart&quot;&gt;//MyServer.com/breakstart.gif
      &lt;/vmap:Tracking&gt;
    &lt;/vmap:TrackingEvents&gt;
  &lt;/vmap:AdBreak&gt;
  &lt;vmap:AdBreak breakType=&quot;linear&quot; breakId=&quot;myid&quot; timeOffset=&quot;00:10:23.125&quot;&gt;
    &lt;vmap:AdSource allowMultipleAds=&quot;true&quot; followRedirects=&quot;true&quot; id=&quot;2&quot;&gt;
      &lt;vmap:VASTAdData&gt;
        &lt;VAST version=&quot;3.0&quot; xsi:noNamespaceSchemaLocation=&quot;vast.xsd&quot;&gt;...
        &lt;/VAST&gt;
      &lt;/vmap:VASTAdData&gt;
    &lt;/vmap:AdSource&gt;
    &lt;vmap:TrackingEvents&gt;
      &lt;vmap:Tracking event=&quot;breakStart&quot;&gt;//MyServer.com/breakstart.gif
      &lt;/vmap:Tracking&gt;
    &lt;/vmap:TrackingEvents&gt;
  &lt;/vmap:AdBreak&gt;
  &lt;vmap:AdBreak breakType=&quot;linear&quot; breakId=&quot;mypost&quot; timeOffset=&quot;end&quot;&gt;
    &lt;vmap:AdSource allowMultipleAds=&quot;true&quot; followRedirects=&quot;true&quot; id=&quot;3&quot;&gt;
      &lt;vmap:VASTAdData&gt;
        &lt;VAST version=&quot;3.0&quot; xsi:noNamespaceSchemaLocation=&quot;vast.xsd&quot;&gt;
          ...
        &lt;/VAST&gt;
      &lt;/vmap:VASTAdData&gt;
    &lt;/vmap:AdSource&gt;
    &lt;vmap:TrackingEvents&gt;
      &lt;vmap:Tracking event=&quot;breakStart&quot;&gt;//MyServer.com/breakstart.gif
      &lt;/vmap:Tracking&gt;
    &lt;/vmap:TrackingEvents&gt;
  &lt;/vmap:AdBreak&gt;
&lt;/vmap:VMAP&gt;
</pre>

<h3>Features not yet supported</h3>

<ul>
  <li>repeatAfter attribute</li>
  <li>VMAP-specific error codes</li>
</ul>

<h2>Example</h2>

<p>The following example uses a simple VMAP file to display a preroll, a midroll at the 50% point of the content, and a postroll once the content completes. Rather than inputting the VAST data into the VMAP file, we&#39;re able to reference a collection of external tags&nbsp;using the adtagURI field. The one major detail to notice is that the <strong>adtagURI</strong>&nbsp;section should not use the <strong>vmap:</strong> prefix. Not adhering to to this may result in erratic VMAP behavior between browsers.<br />
<br />
â€‹The VMAP file itself looks like:</p>

<pre>
&lt;vmap:VMAP xmlns:vmap=&quot;http://www.iab.net/videosuite/vmap&quot; version=&quot;1.0&quot;&gt;
    &lt;vmap:AdBreak timeOffset=&quot;start&quot; breakType=&quot;linear&quot; breakId=&quot;preroll&quot;&gt;
        &lt;vmap:AdSource id=&quot;preroll-ad&quot; allowMultipleAds=&quot;false&quot; followRedirects=&quot;true&quot;&gt;
            &lt;AdTagURI templateType=&quot;vast3&quot;&gt;
                &lt;![CDATA[preroll.xml]]&gt;
            &lt;/AdTagURI&gt;
        &lt;/vmap:AdSource&gt;
    &lt;/vmap:AdBreak&gt;
    &lt;vmap:AdBreak timeOffset=&quot;50%&quot; breakType=&quot;linear&quot; breakId=&quot;midroll&quot;&gt;
        &lt;vmap:AdSource id=&quot;overlay-1-ad&quot; allowMultipleAds=&quot;false&quot; followRedirects=&quot;true&quot;&gt;
            &lt;AdTagURI templateType=&quot;vast3&quot;&gt;
                &lt;![CDATA[midroll.xml]]&gt;
            &lt;/AdTagURI&gt;
        &lt;/vmap:AdSource&gt;
    &lt;/vmap:AdBreak&gt;
    &lt;vmap:AdBreak timeOffset=&quot;end&quot; breakType=&quot;linear&quot; breakId=&quot;postroll&quot;&gt;
        &lt;vmap:AdSource id=&quot;postroll-ad&quot; allowMultipleAds=&quot;false&quot; followRedirects=&quot;true&quot;&gt;
            &lt;AdTagURI templateType=&quot;vast3&quot;&gt;
                &lt;![CDATA[postroll.xml]]&gt;
            &lt;/AdTagURI&gt;
        &lt;/vmap:AdSource&gt;
    &lt;/vmap:AdBreak&gt;
&lt;/vmap:VMAP&gt;
</pre>

<div class="cont" id="container1">&nbsp;</div>
<script>
var playerInstance = jwplayer("container1");
playerInstance.setup({
  image: "//s1-www.ltvimg.com/cdn/farfuture/A4Ot5zIiiX6I0zhJTvqF9xyAg6frFcAuXu3YpmtQUzc/mtime:1388777784/sites/default/files/vast-preoll.png",
  file: "//content.jwplatform.com/videos/bkaovAYt-640.mp4",
width: '75%',
aspectratio: '16:9',
  advertising: {
    client: "vast",
    schedule: "//s3.amazonaws.com/demo.jwplayer.com/advertising/assets/support/demovmap.xml"
  }
});
</script>
</body>
</html>