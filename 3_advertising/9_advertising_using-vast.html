<!-- 
FOR REVIEW BY: Eric Boyd 

TITLE: "Using VAST"

KEYWORDS: jw ads, ads, advertising, vast, vast3, vast3 ad pods, ad podding, using vast, vast tags, AdsArticle


NOTES: IS Dash/Code split needed?? — SHANNON


This article is a combination of the below two articles: 

"VAST3 Ad Pods"
http://support.jwplayer.com/customer/en/portal/articles/1433722 

"Static VAST XML Tag" 
http://support.jwplayer.com/customer/en/portal/articles/1482127 

WHEN FINISHED, this will be located at whichever of the above former articles had the most traffic. 


--> 

<!-- VAST3 AD PODS ARTICLE CONTENT-->
<!DOCTYPE html>
<html>
<head>
    <title></title>

<script src="//content.jwplatform.com/libraries/XeGdlzmk.js"></script>

<meta name="deskURL" content="https://jwplayer.desk.com/admin/content-management/articles/1433722-vast3-ad-pods/edit?select_filter=605644">
</head>

<body>
<div class="article_callout">This document applies to users of <strong>JW Player Ads</strong>. Don&#39;t have <a href="http://www.jwplayer.com/products/jwplayer-ads/" target="_blank">Ads</a>? &nbsp;<a href="http://www.jwplayer.com/pricing/">Upgrade Now</a>.</div>

<p>The <a href="http://www.iab.net/media/file/VASTv3.0.pdf">IAB VAST 3.0</a> template introduced the concept of Ad Pods. Ad Pods are a way to specify multiple &lt;ad&gt; elements which are to be sequenced together and played back-to-back in a singular ad break. Ad Pods are configured from VAST 3.0 compliant ad networks and passed to the JW Player. Additionally, it is possible to create custom, static ad pods either using in-line VAST data, or wrapped ad tags.</p>

<p>If a VAST 3.0 ad tag is configured to use Ad Pods, the JW Player will play the ads together anywhere the ad break was scheduled. Ad Pods can be scheduled as Pre-Rolls, Mid-Rolls, and even as Post-Rolls. The Advertising API has also been updated to contain the location of the ad in a pod and the total number of ads in a pod.</p>

<p><img alt="" src="//support-static.jwplayer.com/images/adschedule.jpg" style="width: 728px; height: 90px;" />​​</p>

<h2>Ad Pod Countdown Message</h2>

<p>By default, JW Player will use the following message prefixed to the ad countdown message: <strong>Ad <em>x</em> of <em>y</em></strong> (Where <em>x</em> is the current ad playing and <em>y</em> is the total number ads in the pod)</p>
<img alt="" src="//support-static.jwplayer.com/images/adpods1.png" />​
<p>The subsequent portion of the ad message is fully customizable. See the article about custom countdown messages <a href="http://support.jwplayer.com/customer/portal/articles/1433868-custom-ad-countdown-message">here</a> for more information.</p>

<h2>Pod API Calls</h2>

<p>Each <a href="http://support.jwplayer.com/customer/portal/articles/1413089-javascript-api-reference#advertising">Advertising API</a> call also contains these two attributes if the ad is part of a pod:</p>

<dl>
    <dt><strong>sequence</strong></dt>
    <dd>This is the number of the ad in pod that is currently playing.</dd>
    <dt><strong>podcount</strong></dt>
    <dd>This is the total number of ads in the pod</dd>
</dl>

<h2>Sample Ad Pod</h2>

<p>A JW Player using a VAST3 ad pod is below:</p>

<div id="container">&nbsp;</div>
<script>
var playerInstance = jwplayer("container");
    playerInstance.setup({    
        image: "//s3.amazonaws.com/demo.jwplayer.com/advertising/assets/adpod.jpg",
        file: "//content.jwplatform.com/videos/s8BPzDe0-kNspJqnJ.mp4",
        advertising: {
            client:"vast",
            schedule:{
                adbreak1: {
                    offset:'pre',
                    tag: '//s3.amazonaws.com/demo.jwplayer.com/advertising/assets/vast3_jw_ads.xml'
                }
            }
        }
    });
</script>

<pre>
playerInstance = jwplayer(&quot;container&quot;);
playerInstance.setup({
     file: &quot;video.mp4&quot;,
     advertising: {
        client: &quot;vast&quot;,
            schedule:{
                adbreak1: {
                offset: &quot;pre&quot;,
                tag: &quot;adpod.xml&quot;
                }
            }
        }
});     
</pre>

<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>

<!-- VAST XML ARTICLE CONTENT-->
<div class="article_callout">This document applies to users of <strong>JW Player Ads</strong>. Don&#39;t have <a href="http://www.jwplayer.com/products/jwplayer-ads/" target="_blank">Ads</a>? &nbsp;<a href="http://www.jwplayer.com/pricing/">Upgrade Now</a>.</div>

<p>In the event that you&#39;d like to serve a static preroll with minimal tracking, it is possible to create your own custom VAST tag. Such a setup allows you to run your own video ads without using an adserver. The below XML displays a very basic video preroll that is built according to the <a href="http://www.iab.net/guidelines/508676/digitalvideo/vsuite/vast">IAB VAST spec</a>:</p>

<pre>
&lt;VAST version=&quot;2.0&quot;&gt;
  &lt;Ad id=&quot;static&quot;&gt;
    &lt;InLine&gt;
      &lt;AdSystem&gt;Static VAST Template&lt;/AdSystem&gt;
      &lt;AdTitle&gt;Static VAST Tag&lt;/AdTitle&gt;
      &lt;Impression&gt;http://example.com/pixel.gif&lt;/Impression&gt;
      &lt;Creatives&gt;
        &lt;Creative&gt;
          &lt;Linear&gt;
            &lt;Duration&gt;00:00:08&lt;/Duration&gt;
            &lt;TrackingEvents&gt;
              &lt;Tracking event=&quot;start&quot;&gt;http://example.com/pixel.gif&lt;/Tracking&gt;
              &lt;Tracking event=&quot;firstQuartile&quot;&gt;http://example.com/pixel.gif&lt;/Tracking&gt;
              &lt;Tracking event=&quot;midpoint&quot;&gt;http://example.com/pixel.gif&lt;/Tracking&gt;
              &lt;Tracking event=&quot;thirdQuartile&quot;&gt;http://example.com/pixel.gif&lt;/Tracking&gt;
              &lt;Tracking event=&quot;complete&quot;&gt;http://example.com/pixel.gif&lt;/Tracking&gt;
              &lt;Tracking event=&quot;pause&quot;&gt;http://example.com/pixel.gif&lt;/Tracking&gt;
              &lt;Tracking event=&quot;mute&quot;&gt;http://example.com/pixel.gif&lt;/Tracking&gt;
              &lt;Tracking event=&quot;fullscreen&quot;&gt;http://example.com/pixel.gif&lt;/Tracking&gt;
            &lt;/TrackingEvents&gt;
            &lt;VideoClicks&gt;
              &lt;ClickThrough&gt;http://www.jwplayer.com/&lt;/ClickThrough&gt;
              &lt;ClickTracking&gt;http://example.com/pixel.gif&lt;/ClickTracking&gt;
            &lt;/VideoClicks&gt;
            &lt;MediaFiles&gt;
              &lt;MediaFile type=&quot;video/mp4&quot; bitrate=&quot;300&quot; width=&quot;480&quot; height=&quot;270&quot;&gt;
                http://example.com/uploads/myPrerollVideo.mp4
              &lt;/MediaFile&gt;
            &lt;/MediaFiles&gt;
           &lt;/Linear&gt;
        &lt;/Creative&gt;
      &lt;/Creatives&gt;
    &lt;/InLine&gt;
  &lt;/Ad&gt;
&lt;/VAST&gt;
</pre>

<p>Note that VAST/VPAID advertising is only available in the <strong>Ads</strong> editions of JW Player. See our <a href="http://www.jwplayer.com/pricing/" target="_blank">pricing page</a> for more info.</p>

<p>A few notes on this setup:</p>

<ul>
  <li>Like other XML content, VAST tags are subject to cross-domain loading restrictions. See <a href="http://support.jwplayer.com/customer/portal/articles/1403679-crossdomain-file-loading">Crossdomain File Loading</a> if you plan to serve the VAST tags from a different domain than your JW Player.</li>
  <li>The impression tracker and all tracking events are required by the VAST specification. You could link them to e.g. a pixel on your server if you don&#39;t plan to actually use these trackers.</li>
  <li>The <em>VideoClicks</em> section defines the link for clicking the ad. If you don&#39;t want a clickthrough, simply remove this section.</li>
  <li>The <em>MediaFiles</em> section points to your MP4 creative. Note the bitrate, width and height attributes must also be set. Alternatively, you could use an FLV file, but that one won&#39;t be HTML5 compatible.</li>
</ul>

<h2>Next Steps</h2>

<p>In order to properly serve the above, the contents must be placed inside of an XML file which is hosted and served to the player in a method similar to our preroll article <a href="http://support.jwplayer.com/customer/portal/articles/1431665-basic-preroll-video-ads">here</a>.</p>

<h2>Example</h2>

<div id="container">&nbsp;</div>
<script type="text/javascript">
var playerInstance = jwplayer("container");
playerInstance.setup({
  image: "/customer/portal/attachments/265344",
  file: "//content.jwplatform.com/videos/kaUXWqTZ-640.mp4",
  width: "75%",
  aspectratio: "16:9",
  advertising: {
    client: "vast",
    tag: "//s3.amazonaws.com/demo.jwplayer.com/static-tag/preroll.xml"
  }
});
</script>

<pre>
var playerInstance = jwplayer(&quot;myElement&quot;);
  playerInstance.setup({
    image: &quot;/uploads/myPoster.jpg&quot;,
    file: &quot;/uploads/myVideo.mp4&quot;,
    advertising: {
      client: &quot;vast&quot;,
      tag: &quot;/uploads/myStaticTag.xml&quot;
    }
  });
</pre>


</body>
</html>