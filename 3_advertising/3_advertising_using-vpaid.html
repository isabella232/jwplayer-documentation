<!-- 
FOR REVIEW BY: Eric Boyd 

TITLE: "Using VPAID Ads"

KEYWORDS: jw ads, ads, advertising, vpaid2, vpaid-2, vpaid 2.0, how does vpaid2 work, vpaid, vpaid ads, ad setup, vpaid iframe, AdsArticle


NOTES: IS Dash/Code split needed?? â€” SHANNON


This article is a combination of the below two articles: 

"Using VPAID 2.0"
http://support.jwplayer.com/customer/en/portal/articles/2136684

"VPAID Interactive Preroll" 
http://support.jwplayer.com/customer/en/portal/articles/1434330-vpaid-interactive-pre-roll

WHEN FINISHED, this will be located at whichever of the above former articles had the most traffic. 


--> 


<!-- THIS IS THE VPAID 2.0 ARTICLE-->

<!DOCTYPE html>
<html>
<head>
    <title></title>

<script type="text/javascript" src="http://p.jwpcdn.com/player/v/7.0.3/jwplayer.js"></script>
<script type="text/javascript">
jwplayer.key="YEUwUA9wRFeDcydr"; //Test Key
</script>
<meta name="deskURL" content="https://jwplayer.desk.com/admin/content-management/articles/1434330-vpaid-interactive-pre-roll/edit?select_filter=605644">
</head>

<body>
<p>As of JW Player 7.1.0, it is possible to use VPAID 2.0 JavaScript creatives. The article below explains the updates made to the original VPAID spec and how JW Player supports this updated ad standard.</p>

<h2>Understanding How VPAID Works</h2>

<p>Compared to standard linear video ads, where the ad experience is defined entirely by a static instream video, VPAID ads are interactive and dynamic. As such, they have a variety of events that need to be communicated back and forth between the player and the advertisement. A basic, simplified example of VPAID chatter would be:</p>

<ol>
  <li><strong>Player:</strong> Hello, VPAID ad! I am ready for you to play!</li>
  <li><strong>VPAID Ad:</strong> Okay! I am loading some content. Hold on...</li>
  <li><strong>VPAID Ad:</strong> I&#39;m going to play a 30 second ad now!</li>
  <li><strong>Player:</strong> Cool! I&#39;m waiting for you to finish playing. Just let me know!</li>
  <li><strong>VPAID Ad:</strong> Finished! My ad is done!</li>
  <li><strong>Player:</strong> I&rsquo;m removing you now! I am going to play my content!</li>
</ol>

<p>Of course, since VPAID ads are dynamic and play their own content, conversation between these player and ad needs to be maintained throughout ad playback. Both the player and advertisement will need to react accordingly as well. For example:</p>

<ul>
  <li><strong>VPAID Ad:</strong> I have paused! Please wait until I give the all-clear.</li>
</ul>

<ul>
  <li><strong>Player:</strong> My volume has increased! Please set your volume to 80%!</li>
</ul>

<ul>
  <li><strong>VPAID Ad:</strong> Someone interacted with me! My new duration is 45 seconds!</li>
</ul>

<p>There is a full list of available VPAID 1 and 2 API calls available on the<a href="www.iab.net/vpaid"> IAB&rsquo;s website.</a></p>

<h2>New to VPAID 2.0</h2>

<p>With VPAID 1, Flash-based swf creatives would communicate back and forth with our video player telegraphing information similar to the above examples. While these ads are still backwards compatible, JW Player is now able to utilize JavaScript-based creatives, which will work on mobile devices and HTML5 browsers that do not have Flash installed.</p>

<p>In addition to the use of JavaScript, VPAID 2.0 relies heavily on the concept of friendly iFrames, so-called since they are generated by a web page itself via JavaScript. Because of this common origin, there is no worry of crossdomain restrictions. As such, communication between both iframe and web page is possible and unrestricted. This communication between iframe and web page is necessary, and is what makes JavaScript creatives advertisements able to interact with our player.</p>

<h2>Why use iframes at all?</h2>

<p>Iframes are important for VPAID 2.0 content due to the potential styling and JavaScript conflicts that could arise by loading so many different dynamic video ads across so many different web pages. Accounting for every permutation of ad with every permutation of web page would be impossible, which is why VPAID 2.0 ads are loaded in self-contained safe iframes. This helps isolate code, keeping things sanitary between the page itself, and advertisements.</p>

<h2>VPAID 2.0 Event Flow</h2>

<p>As of JW Player 7.1 a new event has been added to the API to better align with how JavaScript creatives operate. The following is a basic model for how events will flow out of a creative into the JW Player Advertising API.</p>
<img src="//support-static.jwplayer.com/content/advertising/vpaid-flow.png" />
<p><strong>adStarted</strong> is a new event that signals that the ad unit was loaded into JW Player but has not yet begun video playback. This is sometimes used as the ad unit is searching for a video creative to fill the slot.</p>

<p><strong>adImpression</strong> is only fired when the ad unit signals that the an ad impression has been reached. This is different than previous when the player would trigger an impression based off of the ad loading.</p>

<p><strong>adStopped</strong> is not currently implemented but will be fired when a user stops playback of the ad unit.</p>

<h2>Google IMA and VPAID Modes</h2>

<p>VPAID 2.0 is supported in both our VAST and Google IMA plugins, however Google IMA allows for additional iframe configuration settings. Inside of your advertising block, vpaidmode can be configured as the following:</p>

<p><strong>disabled:</strong> VPAID ads will not play and an error will be returned if VPAID is requested. This is the default.</p>

<p><strong>enabled:</strong> VPAID is enabled using a cross domain iframe. The VPAID ad cannot access the site. VPAID ads that depend on friendly iframe access may not play.</p>

<p><strong>insecure:</strong> The VPAID ad will load in a friendly iframe. This allows the ad access to the site via javascript.</p>

<h2>Supported Browsers</h2>

<p>Browser support is entirely dependant on the media file used by your VPAID advertisement. A full list of supported creatives and browsers is found on our <a href="http://support.jwplayer.com/customer/portal/articles/1431638-ad-formats-reference">Ad Reference Page.</a></p>

<h2>Example</h2>

<div id="myElement">Loading the player...</div>
<script type="text/javascript">
var playerInstance = jwplayer("myElement");
playerInstance.setup({
file: '//content.jwplatform.com/videos/bkaovAYt-640.mp4',
image: '//support-static.jwplayer.com/images/VPAID2.png',
advertising: {
  client: 'vast',
  tag: '//support-static.jwplayer.com/content/advertising/vpaid-2-test.xml'
}
});
</script>

<p>&nbsp;</p>
<hr>
<p>&nbsp;</p>

<!-- BELOW IS THE VPAID Interactive Preroll Article Older Content -->

<p>VPAID ads are interactive ad creatives served within a VAST xml document. The main difference between standard static VAST and VPAID are that VPAID ad creatives are able to be interacted with. Depending on the version of VPAID being used, either Flash-based SWFs or Javascript files can be used for interactive ad experiences. In addition to interactive advertisements, additional advertising logic or even live auctioning can be implemented at the creative-level. JW Player&#39;s handling of VPAID files is explained below.</p>

<h3>Note: The use of VPAID2 creatives requires JW Player version 7.1.0 or higher</h3>

<p>Note that VAST/VPAID advertising is only available in the <strong>Advertising</strong> editions of JW Player. See our <a href="http://www.jwplayer.com/pricing/">pricing page</a> for more info.</p>

<h2>Configuration of VPAID files</h2>

<p>Utilizing a VPAID ad tag in your JW Player config is accomplished in the same way that you would utilize a VAST file. You&#39;ll need to specify your <strong>client</strong>, and place the ad tag inside of the <strong>tag</strong> field. A further explanation of ad tag configuration can be found in our article about <a href="http://support.jwplayer.com/customer/portal/articles/1431665-basic-preroll-video-ads">basic preroll ads</a>.</p>

<p>Because VPAID 1 ads are reliant on Flash creatives, the JW Player must be rendering in Flash mode to display these ads. Likewise, if a VPAID 2 Javascript creative is being used, the player must be rendering in HTML5 mode. These rendering modes can be forced by specifying <strong>flash</strong> or <strong>html5</strong> as the player&#39;s <strong>primary</strong> rendering mode. More information about player configuration options are located on our support article <a href="http://support.jwplayer.com/customer/portal/articles/1413113-configuration-options-reference#basic">here</a>.</p>

<p>Here is an example of a setup of JW Player with an interactive VPAID1 pre-roll advertisement. The interactive ad is skip-able and places a leave-behind on top of the video display:</p>

<div id="myElement">&nbsp;</div>
&nbsp;

<div id="myElement2">&nbsp;</div>
<script>
var playerInstance = jwplayer("myElement");
playerInstance.setup({
image: "/customer/portal/attachments/268189",
file: "//content.jwplatform.com/videos/bkaovAYt-640.mp4",
title: 'VPAID 1 Ad (Flash)',
width: '80%',
aspectratio:'16:9',
primary: 'flash',
advertising: {
    client: "vast",
    tag: "//www.adotube.com/kernel/vast/vast.php?omlSource=http://www.adotube.com/php/services/player/OMLService.php?avpid=UDKjuff&ad_type=pre-rolls&platform_version=vast20as3&vpaid=1&rtb=0&publisher=adotube.com&title=[VIDEO_TITLE&tags=[VIDEO_TAGS]&description=[VIDEO_DESCRIPTION]&videoURL=[VIDEO_FILE_URL]"
  }
});

var playerInstance2 = jwplayer("myElement2");
playerInstance2.setup({
image: "/customer/portal/attachments/268189",
file: "//content.jwplatform.com/videos/bkaovAYt-640.mp4",
title: 'VPAID 2 Ad (HTML5)',
width: '80%',
aspectratio:'16:9',
advertising: {
    client: "vast",
    tag: "//support-static.jwplayer.com/content/advertising/vpaid-2-test.xml"
  }
});
</script>

<pre>
var playerInstance = jwplayer(&quot;myElement&quot;);
playerInstance.setup({
image: &quot;/uploads/myPoster.jpg&quot;,
file: &quot;/uploads/myVideo.mp4&quot;,
primary: &#39;flash&#39;,
  advertising: {
  client: &quot;vast&quot;,
  tag: &quot;//adserver.com/vpaidTag.xml&quot;
  }
});
</pre>








</body>
</html>