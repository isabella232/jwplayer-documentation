<!-- This article contains content from:  http://support.jwplayer.com/customer/portal/articles/1417179-integration-with-google-analytics
plus new content

FOR REVIEW BY: Ryan 

TITLE: "Using Google Analytics with JW Player"

KEYWORDS:
version:jw6, example:code, example:image, Google Analytics, GA, analytics, Google, GaQ, analytics.js, ga.js, events, jwAdvancedSetup


-->

<p>This guide explains how to enable and use built-in Google Analytics features with the JW Player. GA integration is supported in all versions of JW Player 7, including Free.</p>

<h2>Introduction</h2>

<p>JW Player's own analytics are a great way to see how customers are consuming video. However, for more targeted video playback information, JW Player supports direct integration with Google Analytics. All playback events will populate inside of the Event Category called <strong>JW Player Video</strong>. A list of default Event Actions are included here:</p>

<table border="0" style="width:50%">
	<tbody>
		<tr>
			<th>JW Player Video Events</th>
		</tr>
		<tr>
			<td>Video Plays</td>
		</tr>
		<tr>
			<td>Video Completes</td>
		</tr>
		<tr>
			<td>Buffer events</td>
		</tr>
		<tr>
			<td>Idle events</td>
		</tr>
		<tr>
			<td>Pause events</td>
		</tr>
		<tr>
			<td>Resume events</td>
		</tr>
		<tr>
			<td>Seek events</td>
		</tr>
	</tbody>
</table>
<p>These categories can be found in your Google Analytics dashboard under <strong>Behavior &gt; Events</strong> or <strong>Real-Time &gt; Events</strong>.</p>
<p>&nbsp;</p>
<h2>Event Properties</h2>

<p>If a Category link is clicked, we can view actual <strong>Event Actions</strong> which were captured by the player.</p>

<p>Accessing the <strong>JW Player Video</strong> category will provide the following playback information:</p>

<ul>
	<li><strong>Event Action &mdash; </strong>This is the event captured by the player. For example, Play, Buffer, Complete, etc.</li>
	<li><strong>Event Label  &mdash;  </strong>By default, the URL of the video file which was played.</li>
</ul>
<p>&nbsp;</p>
<h2>Supported Versions of Google Analytics</h2>

<p>The use of the deprecated ga.js is no longer officially supported with JW7, so we do highly suggest moving to analytics.js if possible. In the event that you are using both analytics.js and the older ga.js on your page, we will use analytics.js exclusively for sending events and ignore any older ga.js code. More information about upgrading from ga.js to analytics.js is available on Google&#39;s site <a href="https://developers.google.com/analytics/devguides/collection/upgrade/reference/gajs-analyticsjs">here.</a></p>
<a name="setting-up-ga"></a>
<p>&nbsp;</p>
<h2>Setting up your GA</h2>

<p>JW Player will leverage the implemented GA script from the page that it is embedded on. Therefore, an active account with <a href="http://www.google.com/analytics">Google Analytics</a> is required to utilize this feature. After configuring your analytics.js script and player on a web page, we will track events based on your unique Google Analytics account number. (This number resembles UA-XXXXXX-X)</p>
<!-- <a href="dev-portal-page" target="_blank">Click here</a> to view a properly implemented analytics.js script. -->

<p>A properly-implemented analytics.js script would look like the following within your page head:</p>

<pre>
(function(i,s,o,g,r,a,m){i[&#39;GoogleAnalyticsObject&#39;]=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,&#39;script&#39;,&#39;//www.google-analytics.com/analytics.js&#39;,&#39;ga&#39;);

  ga(&#39;create&#39;, &#39;UA-XXXXXXXX-X&#39;, &#39;auto&#39;);
  ga(&#39;send&#39;, &#39;pageview&#39;);
</pre>
<p>&nbsp;</p>
<div class="tab-switch clearfix">
<ul class="tabs" data-options="scroll_to_content:false; deep_linking:true" data-tab="" role="tablist">
	<li class="tab-title active" role="presentation"><a aria-controls="dashboard" aria-selected="true" href="#dashboard" role="tab" tabindex="0">Dashboard</a></li>
	<li class="tab-title" role="presentation"><a aria-controls="code" aria-selected="false" href="#code" role="tab" tabindex="0">Code</a></li>
</ul>

<div class="tabs-content">
<section aria-hidden="false" class="content active" id="dashboard" role="tabpanel">
<p>In the JW Player dashboard, you can enable Google Analytics with just a click, on any of your existing or new players.  </p>
<p><img src="http://support-static.jwplayer.com.s3.amazonaws.com/images/analytics/google-analytics-player-builder.png" alt="Google Analytics toggle in the player detail page " style="border:1px solid #E6E6E6;"/></p>
<p><strong>Note:</strong> You'll need to make sure you've placed the GA tracking code on your website before your JW Player activity will appear. (See <a href="#setting-up-ga">above</a>).</p>
<p>&nbsp;</p>
</section>

<section aria-hidden="true" class="content" id="code" role="tabpanel">

<p>If you have the Google Analytics JavaScript on your page, the integration with JW Player is straightforward. Simply include the <strong>ga: {}</strong> block in your configuration options to enable it. Here is an example:</p>

<pre>
var playerInstance = jwplayer(&quot;myElement&quot;);
playerInstance.setup({
    file: &quot;/uploads/example.mp4&quot;,
    image: &quot;/uploads/example.jpg&quot;,
    ga: {} 
});
</pre>


<p>With this setup block added, JW Player will use the Google Analytics tracking code to fire a tracking pixel for most playback events.</p>
<p>&nbsp;</p>
<h2>Configuration Options</h2>

<p>Two configuration options are available to tune Google Analytics integrations:</p>
<ul>
<li><strong>idstring &mdash; </strong>By default, JW Player sets the action of a play/complete event to the file <a href="http://support.jwplayer.com/customer/portal/articles/1413113-configuration-options-reference#playlist">playlist property</a>. This option allows setting the action to a different playlist item property, like <strong>title</strong> or <strong>mediaid</strong>. Note that this will only affect the <strong>JW Player Plays/Completes</strong> categories.</li>

<li><strong>label &mdash; </strong>Provides label customization. By default, we display the name of the video file being played. Like idstring listed above, we can alter this to be another playlist property, like its <strong>title</strong> or <strong>MediaID</strong>.</li>
</ul>
<p>Here is an example embed code that sets both configuration options:</p>

<pre>
var playerInstance = jwplayer(&quot;myElement&quot;);
playerInstance.setup({
	file: &quot;/uploads/example.mp4&quot;,
	image: &quot;/uploads/example.jpg&quot;,
	ga: {
		idstring: &quot;title&quot;,
		label: &quot;mediaid&quot;
	}
});
</pre>

<p>With this setup, JW Player:</p>

<ol>
	<li>Tracks the title of videos instead of their URL in the <strong>JW Player Video Plays/Completes</strong> categories</li>
	<li>Fires events using the global variable called pageTracker</li>
	<li>Uses the mediaid property for <strong>JW Player Video</strong> category</li>
</ol>

</section>
</div>
</div>