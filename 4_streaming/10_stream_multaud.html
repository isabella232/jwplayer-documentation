<!DOCTYPE html>
<html>
<head>
    <title></title>

<script src="//content.jwplatform.com/libraries/XeGdlzmk.js"></script>

<meta name="deskURL" content="https://jwplayer.desk.com/admin/content-management/articles/1761348-multiple-audio-renditions/edit?select_filter=564477">
</head>
<body>
<div class="article_callout">This document applies to users of <strong>JW Player Premium</strong>. Don&#39;t have Premium? <a href="http://www.jwplayer.com/pricing/">Upgrade Now</a>.</div>

<h2>Overview</h2>

<p>Using the JW Player HLS provider, if an M3U8 manifest provides multiple audio tracks, we will automatically choose an audio track to play alongside the video. JW Player also provides an interface for viewers to toggle between the alternate audio tracks. The audio will switch as soon as it is loaded, with as little buffering as possible.</p>

<p>​<img alt="" src="/customer/portal/attachments/372782" style="width: 510px; height: 287px;" /></p>

<p>The labels for these options are based on the M3U8 file, using the <em>NAME </em>attribute. The <em>NAME</em> is specified as being a human-readable description. Here is an M3U8 manifest that illustrates this:</p>

<pre>
  #EXTM3U
  #Audio renditions
   #EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID=&quot;aac&quot;,NAME=&quot;English&quot;, DEFAULT=YES,AUTOSELECT=YES,LANGUAGE=&quot;en&quot;, URI=&quot;main/english-audio.m3u8&quot;
   #EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID=&quot;aac&quot;,NAME=&quot;Deutsch&quot;,DEFAULT=NO,AUTOSELECT=YES,LANGUAGE=&quot;de&quot;, URI=&quot;main/german-audio.m3u8&quot;
   #EXT-X-MEDIA:TYPE=AUDIO,GROUP-ID=&quot;aac&quot;,NAME=&quot;Commentary&quot;,DEFAULT=NO,AUTOSELECT=NO,URI=&quot;commentary/audio-only.m3u8&quot;
 
 #Video qualities
   #EXT-X-STREAM-INF:BANDWIDTH=1280000,CODECS=&quot;...&quot;,AUDIO=&quot;aac&quot;
   low/video-only.m3u8
   #EXT-X-STREAM-INF:BANDWIDTH=2560000,CODECS=&quot;...&quot;,AUDIO=&quot;aac&quot;
   mid/video-only.m3u8
   #EXT-X-STREAM-INF:BANDWIDTH=7680000,CODECS=&quot;...&quot;,AUDIO=&quot;aac&quot;
   hi/video-only.m3u8
   #EXT-X-STREAM-INF:BANDWIDTH=65000,CODECS=&quot;mp4a.40.5&quot;,AUDIO=&quot;aac&quot;
   main/english-audio.m3u8
</pre>

<p>Servers like Wowza Media Server, Microsoft Azure, and Unified Streaming Platform all support rendering of playlists with alternate audio out of the box.</p>

<h2>Default Track Selection</h2>

<p>JW Player looks at <em>DEFAULT</em> and<em> LANGUAGE</em> to determine which audio track to start up the stream with. If there is a language code matching the system setting language, the JW Player will automatically choose that track. Otherwise it reverts to the <em>DEFAULT</em> track. If no default is specified, the first audio track in the manifest will be used.</p>

<h2>Audio Tracks API</h2>
​

<p>These API calls are used to listen to or update the audio track if multiple audio tracks of a video are provided.</p>

<dl>
	<dt>getAudioTracks()</dt>
	<dd>Returns an array with audio tracks from the player. Each track is an object that contains a <strong>label</strong> property.</dd>
	<dt>getCurrentAudioTrack()</dt>
	<dd>Returns the index of the currently active audio track.</dd>
</dl>

<dl>
	<dt>setCurrentAudioTrack(<em>index</em>)</dt>
	<dd>Change the audio track to the provided index. The index must be within the list provided by <strong>getAudioTracks</strong>.</dd>
</dl>

<dl>
	<dt>on(&#39;audioTracks&#39;, function(event){});</dt>
	<dd>Fired when the list of available audio tracks is updated. Happens e.g. shortly after a playlist item starts playing. Event attributes:
	<ul>
		<li><strong>levels</strong> (Array): the full array with new quality levels.</li>
	</ul>
	</dd>
	<dt>on(&#39;audioTrackChange&#39;, function(event){});</dt>
	<dd>Fired when the active audio track is changed. Happens in repsponse to e.g. a user clicking the audio tracks menu or a script calling <em>setCurrentAudioTrack</em>. Event attributes:
	<ul>
		<li><strong>currentTrack</strong> (Number): index of the new quality level in the <em>getAudioTracks()</em> array.</li>
	</ul>
	</dd>
</dl>

<h2>Example HLS Stream with Alternate Audio</h2>

<p>Here is an example of a stream that contains a Spanish, English, and directors commentary audio tracks.</p>

<h3>Sample Embed code</h3>

<p>As always, ensure you have uploaded a copy of JW Player and included the script in the &lt;head&gt; of your page, together with your player key. See the <a href="http://support.jwplayer.com/customer/portal/articles/1406723-basic-video-embed" target="_blank">Basic Video Embed</a> article for more info. Next, place the following embed code at the location you want the player to appear:</p>

<pre>
&lt;div id=&quot;myElement&quot;&gt;&lt;/div&gt;

&lt;script&gt;
var playerInstance = jwplayer(&quot;myElement&quot;);
playerInstance.setup({
	image: &quot;/uploads/myPoster.jpg&quot;,
	file: &quot;/uploads/myManifest.m3u8&quot;,
});
&lt;/script&gt;
</pre>

<p>Note that both the M3U8 manifests and the TS fragments of an HLS stream are subject to cross-domain security restrictions and therefore won&#39;t automatically load from another domain than the player. See <a href="http://support.jwplayer.com/customer/portal/articles/1403679-crossdomain-file-loading" target="_blank">Crossdomain File Loading</a> for more info.</p>
<style type="text/css">#container{ display: block; margin-left: 110px; box-shadow:0 0 4px #999; }
</style>
<div id="container">&nbsp;</div>
<script>
var playerInstance = jwplayer("container");
playerInstance.setup({
file:"//playertest.longtailvideo.com/adaptive/eleph-audio/playlist.m3u8",  
image: '//content.jwplatform.com/thumbs/nhYDGoyh-640.jpg',
stagevideo: false,
primary: 'flash',
title: "HLS v4 Multi-track demo",
        hlslabels: {
            "450": "Low",
            "900": "Medium",
            "2000": "High"
        },
androidhls:"true"

});
</script><br />
&nbsp;
<p>See <a href="http://support.jwplayer.com/customer/portal/articles/1430218-using-hls-streaming" target="_blank">Using Apple HLS Streaming</a> for more info.</p>

</body>
</html>