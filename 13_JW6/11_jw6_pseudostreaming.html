<!DOCTYPE html>
<html>
<head>
    <title></title>

<script src="//content.jwplatform.com/libraries/XeGdlzmk.js"></script>

<meta name="deskURL" content="https://jwplayer.desk.com/admin/content-management/articles/1430518-pseudo-streaming-in-flash/edit?select_filter=564477">
</head>
<body>
<p>Every HTML5 browser supports the ability for players to seek to not-yet-downloaded portions of a video. This functionality, often referred to as <em>pseudo-streaming</em>, is great for any video longer than a few minutes.</p>

<p>Unfortunately, this functionality is not available by default when playing videos in Flash. A work-around is possible though, by installing a web server module and adding the <strong>startparam</strong> option to <a href="http://support.jwplayer.com/customer/portal/articles/1413113-configuration-options-reference#other" target="_blank">your player setup</a>.</p>

<h2>How It Works</h2>

<p>Pseudo-streaming works as follows: When the video is initially loaded, the player reads and stores a list of <strong>seekpoints</strong> as part of the video&#39;s metadata. These seekpoints are offsets in the video (both in seconds and in bytes) at which a new keyframe starts.</p>

<p>When a user seeks to a not-yet-downloaded part of the video, the player maps this seek to the nearest seekpoint. Next, the player does a request to the server, adding the seekpoint as a querystring parameter:</p>

<pre>
http://example.com/videos/bbb.mp4?start=30.4</pre>

<p>A special module in the webserver handles this request. It reads the video in memory and checks the <em>seekpoints</em> metadata. It finds and skips to the offset requested by the querystring parameter. It then returns the video to the browser, starting from that offset.</p>

<p>Because the first frame in each return is a keyframe, the player is able to correctly load and play it. Should the server have returned the video from an arbitrary offset, the player would not be able to pick up the stream and the display would only show garbage.</p>

<h2>Server Modules</h2>

<p>As said, Flash pseudo-streaming does not work by default on any web server. A server side module is needed to enable it. Here are the most widely used (and open source) modules for this:</p>

<ul>
	<li>The <a href="http://h264.code-shop.com/trac/wiki">H264 streaming module</a> for Apache, IIS and NginX. It supports MP4 and FLV videos.</li>
	<li>The <a href="https://github.com/osantana/mod_flvx">FLV streaming module</a> for Apache or <a href="http://wiki.nginx.org/HttpFlvModule">HTTP FLV module</a> for NginX. They support FLV videos.</li>
</ul>

<p>Please refer to the project pages and documentation of these modules to learn how to build and install them. This falls outside the scope of the JW Player documentation.</p>

<p>Several CDNs (Content Delivery Networks) support Flash Pseudostreaming as well. We have done successful tests with Bitgravity (MP4 + FLV), Edgecast (MP4 + FLV) and Limelight (only FLV).</p>

<h2>Startparam</h2>

<p>The querystring parameter that must be used to load video from an offset differs per module and CDN. Therefore, it can be set in the JW Player using the <strong>startparam</strong> configuration parameter. By setting this <a href="http://support.jwplayer.com/customer/portal/articles/1480629-embedding-the-player-quickstart-guide">configuration option</a>, you enable pseudo-streaming in Flash, using the parameter name you inserted.</p>

<p>Here is an example of a setup of JW Player, presenting an MP4 video. JW Player is setup to use the pseudo-streaming capabilities of the server. (In this case, EdgeCast):</p>

<div id="container">&nbsp;</div>
<script>
jwplayer("container").setup({
  file: "http://playertest.longtailvideo.com/sintel-480.mp4",
  image: "/customer/portal/attachments/238207",
  width:640,
  height:360,
  primary: "flash",
  startparam: "ec_seek"
});
</script>

<pre>
&lt;div id=&quot;myElement&quot;&gt;&lt;/div&gt;

&lt;script&gt;
    jwplayer(&quot;myElement&quot;).setup({
      image: &quot;/uploads/myPoster.jpg&quot;,
      file: &quot;/uploads/myVideo.mp4&quot;,
      startparam: &quot;ec_seek&quot;
    });
&lt;/script&gt;
</pre>

<p>In our above code, you can see that we are utilizing Edgecast&#39;s <strong>ec_seek</strong> start parameter to enable pseudo-streaming in Flash. However, not all start parameters are the same. Below, we have an<span style="line-height: 1.6em;">&nbsp;overview of different&nbsp;</span><em style="line-height: 1.6em;">startparam</em><span style="line-height: 1.6em;"> values for different&nbsp;modules/CDNs:</span></p>

<table>
	<tbody>
		<tr>
			<th>Module/CDN</th>
			<th>startparam (MP4)</th>
			<th>startparam (FLV)</th>
		</tr>
		<tr>
			<td><a href="http://h264.code-shop.com/trac/wiki">mod_h264</a></td>
			<td>starttime</td>
			<td>start</td>
		</tr>
		<tr>
			<td><a href="https://github.com/osantana/mod_flvx">mod_flvx</a></td>
			<td>-</td>
			<td>start</td>
		</tr>
		<tr>
			<td><a href="http://wiki.nginx.org/HttpFlvModule">HttpFlvModule</a></td>
			<td>-</td>
			<td>start</td>
		</tr>
		<tr>
			<td><a href="http://wiki.nginx.org/HttpMp4Module">HttpMp4Module</a></td>
			<td>start</td>
			<td>-</td>
		</tr>
		<tr>
			<td><a href="http://bitgravity.com/">Bitgravity</a></td>
			<td>starttime</td>
			<td>apstart</td>
		</tr>
		<tr>
			<td><a href="http://edgecast.com/">Edgecast</a></td>
			<td>ec_seek</td>
			<td>ec_seek</td>
		</tr>
		<tr>
			<td><a href="http://limelight.com/">Limelight</a></td>
			<td>ms</td>
			<td>fs</td>
		</tr>
		<tr>
			<td><a href="https://wmspanel.com/nimble">Nimble Streamer</a></td>
			<td>start</td>
			<td>start</td>
		</tr>
	</tbody>
</table>

<p>&nbsp;</p>
</body>
</html>