<!-- 

WILL LIVE AT: 
http://support.jwplayer.com/customer/portal/articles/1428524 (former "HD Quality Toggling" article)

FOR REVIEW BY: Andrew

KEYWORDS: version:jw6, example:code, example:embed, hd, quality, 720p, 1080p, hd button, quality button, hd quality controls, quality controls, version:jw6, example:code, example:embed, fallback, sources, fallback files, fallback video, sources fallback, jwAdvancedSetup, multiple sources, add multiple sources, configure multiple sources, multiple, sources, streaming, passthrough, bitrate, audio, sources, manifest, adaptive, transcoding, transcode, artefacts, tx3g, id3, bandwidth, original, original file, download, source, storage, hosting

CONTAINS CONTENT FROM: 
Streaming Orignal Videos (JW Platform)
http://support.jwplayer.com/customer/en/portal/articles/1483133-streaming-your-original-videos

Configuring Multiple Sources (Embedding)
http://support.jwplayer.com/customer/portal/articles/1710454-configuring-multiple-sources

--> 

<div class="article_toc">
<h2>Table Of Contents</h2>
<nav>
<ul>
	<li><a href="#about-sources">About Sources</a></li>
    	<ul>
		<li>Sources in the Dashboard</li>
    	<li>Sources Code Block</li>
        </ul>
	<li><a href="#sources-features">Sources Block Features</a></li>
    	<ul>
			<li>Quality Selection</li>
			<li>Alternate Formats</li>
        </ul>
</ul>
</nav>
</div>
<a name="about-sources"></a>
<h2>About Sources</h2>
<p>This article introduces the concept of "sources" and how JW Player uses them. A "source" is any URL that references a file that the player can use to play content.</p>
<p>Sources of different qualities and file types are generated by the JW Platform when content is uploaded. They can also be coded manually into a player embed block.</p>

<div class="tab-switch clearfix">
<ul class="tabs" data-options="scroll_to_content:false; deep_linking:true" data-tab="" role="tablist">
	<li class="tab-title active" role="presentation"><a aria-controls="dashboard" aria-selected="true" href="#dashboard" role="tab" tabindex="0">DASHBOARD</a></li>
	<li class="tab-title" role="presentation"><a aria-controls="code" aria-selected="false" href="#code" role="tab" tabindex="0">CODE</a></li>
</ul>
</div>

<div class="tabs-content" style="border: 1px #d9dde6 solid; border-top:0px; padding:20px;">
<section aria-hidden="false" class="content active" id="dashboard" role="tabpanel">
<p>In the dashboard, sources can be found in their own tab in the detail view of any piece of content. </p>

<p>In the "sources" tab, the view will be different for uploaded videos and external URLs:
<ol type="A">
<li><strong>Uploaded videos</strong> will include all of the JW Platform-generated transcodes, including links to the exact files and poster images of the corresponding size.* </li>
<li><strong>External URLs</strong> will display the URL that is referenced by the Media ID for this content object. It can be edited at any time. (Note: If you edit an external URL's source URL, that change will be propagated out through any existing single-line embeds). </li>
</ol></p>
<p><img src="//support-static.jwplayer.com/images/streaming/sources-upload-url.png" alt="A view of the 'sources' tab within the content detail view."/></p>
<p><strong>*Note:</strong> The sources exposed in the dashboard are the output of JW Platform's transcoding engine. They are best used when you have a very specific reason to embed one quality transcode, the audio transcode, or your <a href="#original">original file</a>.</p>
</section>
<section aria-hidden="true" class="content" id="code" role="tabpanel">
<p>Sources can also be configured on the embed level, by replacing the single <strong>file</strong> configuration option with a <strong>sources</strong> block.  This <strong>sources</strong> block is used to trigger two types of functionality: <a href="quality-selection">Quality Selection</a> and <a href="alternate-formats">Alternate Formats</a>.</p>

<p>This block contains a list (array) of sources. Each source can contain the following properties:</p>
<p>
<dl>
  <dt><strong>file</strong></dt>
  <dd>URL to the video file, audio file, YouTube video or live stream of this source.</dd>
  <dt><strong>label</strong></dt>
  <dd>Label of the media source, displayed in the manual HD selection menu. Set this if you have more than 2 qualities of your video.</dd>
  <dt><strong>&quot;default&quot;</strong></dt>
  <dd>Set this to <em>true</em> for the media source you want to play on startup. If this isn&#39;t set for any source, the first one is used. Note the option should be placed in quotes because &quot;default&quot; is a reserved JavaScript keyword in IE8.</dd>
  <dt><strong>type</strong></dt>
  <dd>Media type of the source. Is only needed when the file property does not contain a recognized file extension (like .mp4 for <strong>mp4</strong>). The <a href="/customer/portal/articles/1403635-media-format-reference">Media Formats Reference</a> lists all supported types.</dd>
</dl>
</p>
<p>
<pre>
&lt;script&gt;
var playerInstance = jwplayer(&quot;myElement&quot;);
playerInstance.setup({
      image: &quot;/uploads/myPoster.jpg&quot;,
      sources: [{
        file: &quot;/uploads/myVideo-360.mp4&quot;
      },{
        file: &quot;/uploads/myVideo-720.mp4&quot;
      }]
    });
&lt;/script&gt;
</pre>

</p>

<hr>
</section>
</div>
<a href="#sources-features"></a>
<p>&nbsp;</p>
<h2>Sources Block Features</h2>

<p>The same <strong>sources</strong> block syntax can be used for <a href="#quality-selection">Quality Selection</a> or <a href="#alternate-formats">Alternate Formats</a>. The behavior of the player depends on the types of files used:
<ul>
<li><strong>Quality Selection</strong> (the "HD" icon/toggle in the player) will popuate when two of the same file types are used. For example, two MP4 files or two FLV files. </li>
<li><strong>Alternate Format</strong> (fallback) behavior will activae if two dissimilar file types are used (e.g. MP4 and FLV).</li>
</ul>
</p>



<div class="tab-switch clearfix">
<ul class="tabs" data-options="scroll_to_content:false; deep_linking:true" data-tab="" role="tablist">
	<li class="tab-title active" role="presentation"><a aria-controls="quality-selection" aria-selected="true" href="#quality-selection" role="tab" tabindex="0">Quality Selection</a></li>
	<li class="tab-title" role="presentation"><a aria-controls="alternate-formats" aria-selected="false" href="#alternate-formats" role="tab" tabindex="0">Alternate Formats</a></li>
</ul>
</div>

<div class="tabs-content">
<section aria-hidden="false" class="content active" id="quality-selection" role="tabpanel">
<h3>Quality Selection (HD Icon)</h3>
<p>Quality Selection allows users to manually switch between multiple qualities of your videos using the "HD" icon in the player. For automatic quality switching (adaptive streaming), <a href="http://support.jwplayer.com/customer/portal/articles/1430189-about-hls-streaming">HLS</a> or <a href="http://support.jwplayer.com/customer/portal/articles/2020482-about-dash-streaming">DASH</a> is our recommended solution.</p>

<p>JW Player automatically adds an HD button to its controls when it is set up with multiple qualities of a video file:</p>

<ul>
  <li>If there are 2 file qualities, the HD button acts as a toggle between the HD and SD qualities.</li>
  <li>If there are 3 or more file qualities, the HD button will display a quality selection menu on rollover (like YouTube).</li>
  <li>If there are 3 or more file qualities and the viewer is on a mobile device, JW Player will still toggle only between the first 2 qualities. This to keep the interface easy to use with Touch controls.</li>
</ul>

<p>As a publisher, you can set which quality to use on startup. The first quality in the list is the default and should be the lower quality version of your file. Once a viewer clicks the HD button and overrides the quality, JW Player saves that in a cookie for subsequent videos.</p>

<h3>Quality Selection Example</h3>

<p>The code example in the tab near the top of the page is using a 360p file and 720p file toggle. Here is a player using that setup:</p>
<p>
<div id="container">&nbsp;</div>
<script>
var playerInstance = jwplayer("container");
playerInstance.setup({
  image: "//content.jwplatform.com/thumbs/C4lp6Dtd-640.jpg",
  sources: [{
    file: "//content.jwplatform.com/videos/C4lp6Dtd-640.mp4"
  },{
    file: "//content.jwplatform.com/videos/C4lp6Dtd-1280.mp4"
  }],
  width: 640,
  height: 270
});
</script>
</p>
<p>Start the video to see the HD button in the controlbar. Click the HD button to toggle between the 360p and 720p versions of the video. Upon selection, the player will load and play the appropriate quality video at the appropriate time.</p>

<!-- 
<h2>Embed code</h2>

<pre>
&lt;script&gt;
var playerInstance = jwplayer(&quot;myElement&quot;);
playerInstance.setup({
      image: &quot;/uploads/myPoster.jpg&quot;,
      sources: [{
        file: &quot;/uploads/myVideo-360.mp4&quot;
      },{
        file: &quot;/uploads/myVideo-720.mp4&quot;
      }]
    });
&lt;/script&gt;
</pre>

<p>Instead of a single <strong>file</strong> configuration option, this embed has a <strong>sources</strong> options block. This block contains a list (array) of sources. Each source can contain the following properties:</p>

<dl>
  <dt><strong>file</strong></dt>
  <dd>URL to the video file, audio file, YouTube video or live stream of this playlist item source.</dd>
  <dt><strong>label</strong></dt>
  <dd>Label of the media source, displayed in the manual HD selection menu. Set this if you have more than 2 qualities of your video.</dd>
  <dt><strong>&quot;default&quot;</strong></dt>
  <dd>Set this to <em>true</em> for the media source you want to play on startup. If this isn&#39;t set for any source, the first one is used. Note the option should be placed in quotes because &quot;default&quot; is a reserved JavaScript keyword in IE8.</dd>
  <dt><strong>type</strong></dt>
  <dd>Media type of the source. Is only needed when the file property does not contain a recognized file extension (like .mp4 for <strong>mp4</strong>). The <a href="/customer/portal/articles/1403635-media-format-reference">Media Formats Reference</a> lists all supported types.</dd>
</dl>


<h3>Quality Selection via Streaming</h3>

<p>For streaming on desktops (HLS, DASH, and RTMP), JW Player automatically offers the HD selection menu. This is not set up through multiple qualities in the embed code, rather this uses a separate manifest file. See <a href="/customer/portal/articles/1430240-hls-adaptive-streaming">HLS Adaptive Streaming</a> for more info.</p>--> 

 
<h3>Advanced Quality Selection Example</h3>

<p>Here is a second, more advanced example that contains 3 sources, each with labels. The middle source is the default:</p>

<pre>
  var playerInstance = jwplayer(&quot;myElement&quot;);
  playerInstance.setup({
      image: &quot;/uploads/myPoster.jpg&quot;,
      sources: [{
        file: &quot;/uploads/myVideo720mp4&quot;,
        label: &quot;720p HD&quot;
      },{
        file: &quot;/uploads/myVideo360.mp4&quot;,
        label: &quot;360p SD&quot;,
        &quot;default&quot;: &quot;true&quot;
      },{
        file: &quot;/uploads/myVideo180mp4&quot;,
        label: &quot;180p Web&quot;
      }]
    });
</pre>

<p>Note that this same mechanism can also be used to display multiple media formats of a single video, like MP4+WebM or RTMP+MP4.</p>

<h3>Multiple Qualities in RSS</h3>

<p>Multiple qualities can also be setup in RSS feeds. This allows for HD toggling of playlists of videos. Here is a basic setup of a feed with 2 items with SD + HD qualities. Note the use of the JWPlayer namespace to set posters and thumbs:</p>

<pre>
&lt;rss version=&quot;2.0&quot; xmlns:jwplayer=&quot;http://rss.jwpcdn.com/&quot;&gt;
&lt;channel&gt;

  &lt;item&gt;
    &lt;title&gt;Sintel Trailer&lt;/title&gt;
    &lt;description&gt;Sintel is a fantasy CGI movie from the Blender Open Movie Project.&lt;/description&gt;
    &lt;jwplayer:image&gt;/assets/sintel.jpg&lt;/jwplayer:image&gt;
    &lt;jwplayer:source file=&quot;/assets/sintel-640.mp4&quot; label=&quot;360p&quot; /&gt;
    &lt;jwplayer:source file=&quot;/assets/sintel-1280.mp4&quot; label=&quot;720p HD&quot; /&gt;
  &lt;/item&gt;

  &lt;item&gt;
    &lt;title&gt;Elephants Dream Trailer&lt;/title&gt;
    &lt;description&gt;This is the worlds first open movie, made entirely with Blender.&lt;/description&gt;
    &lt;jwplayer:image&gt;/assets/elephants.jpg&lt;/jwplayer:image&gt;
    &lt;jwplayer:source file=&quot;/assets/elephants-640.mp4&quot; label=&quot;360p&quot; /&gt;
    &lt;jwplayer:source file=&quot;/assets/elephants-1280.mp4&quot; label=&quot;720p HD&quot; /&gt;
  &lt;/item&gt;

&lt;/channel&gt;
&lt;/rss&gt;
</pre>

<p><em>Note that RSS feeds are subject to cross-domain security restrictions and therefore won&#39;t automatically load from another domain than the player. See <a href="/customer/portal/articles/1403679-crossdomain-file-loading">Crossdomain File Loading</a> for more info.</em></p>

<p>See the <a href="/customer/portal/articles/1403635-media-format-reference#feeds">Media Formats Reference</a> for more information on RSS support.</p>

 </section>
<div class="tabs-content">
<section aria-hidden="true" class="content" id="alternate-formats" role="tabpanel">
<a name="alternate-formats"></a>
<h2>Alternate Formats</h2>
<p>You may want to configure multiple sources within JW Player (e.g. if Flash is not supported in a particular scenario). This will ensure that users can access media across the highest number of browsers and devices.</p> 
<p>One example of using this feature would be to add an RTMP or HLS VOD stream, along with an MP4 file fallback. This configuration would satisfy both desktops that utilize Flash, and mobile devices/browsers that only utilize HTML5 video.</p>

<h3>Configuring Alternate Formats</h3>
<p>Setting fallbacks is accomplished by creating a <strong>sources</strong> block within your <strong>playlist</strong> section. Here, we can list different sources for the same video file. For example:</p>
<pre>
var playerInstance = jwplayer(&quot;myElement&quot;);
playerInstance.setup({
playlist: [{
        sources: [{ 
            file: &quot;rtmp://mySite.com/myFile&quot;
        },{
            file: &quot;//mySite.com/myFile.mp4&quot;
        }]
}],
    primary: &quot;flash&quot;
});</pre>

<p>In the above code, we&#39;re attempting to load an RTMP stream initially. In the event that Flash is not installed on the device/system, the player is smart enough to&nbsp;render in HTML5 mode and attempt to load the MP4. In fact, this same principle can be applied to other media formats as well.</p>

<pre>
var playerInstance = jwplayer(&quot;myElement&quot;);
playerInstance.setup({
playlist: [{
        sources: [{ 
            file: &quot;//mySite.com/myFile.flv&quot;
        },{ 
            file: &quot;//mySite.com/myFile.mp4&quot;
        },{
            file: &quot;//mySite.com/myFile.webm&quot;
        }]
}],
    primary: &quot;flash&quot;
});</pre>

<p>Here, the player will attempt to load an FLV file, which requires Flash. If Flash is not detected, we&#39;ll head down the list and try our MP4 file in HTML5 mode. If our browser is still not capable of playing an MP4 natively, we&#39;ll lastly attempt to play a WebM version.</p>

<p>Configuring sources can also be done within a playlist, as mentioned in our <a href="http://support.jwplayer.com/customer/portal/articles/1413113-configuration-options-reference#playlist" target="_blank">configuration reference page</a>. This will allow you to add fallbacks for each item in a playlist.</p>

<h2>Example</h2>

<p>Here&#39;s an example of our player using an RTMP stream as a primary media file, with an MP4 file as a backup: ​</p>

<div id="container">&nbsp;</div>
<script>
var playerInstance = jwplayer("container");
playerInstance.setup({
  playlist: [{
    image: "//support.jwplayer.com/customer/portal/attachments/238181",
    sources: [{
      file: "rtmp://fms.12E5.edgecastcdn.net/0012E5/mp4:videos/8Juv1MVa-485.mp4"
    },{
      file: "//content.jwplatform.com/videos/nhYDGoyh-kNspJqnJ.mp4"
    }]
  }],
  primary: "flash",
width:640,
height:360
});
</script>

<p>The player should render successfully between mobile devices and browsers with Flash. (Provided that it can play MP4 natively!)</p>


<hr> 
</section>


<a name="original"></a>
<h2>STREAMING ORIGINAL FILES</h2>

<p>An integral part of <a href="http://www.jwplayer.com/products/jwplatform/" target="_blank">JW Platform</a> is the transcoding of your videos to formats that play on all browsers and devices. This workflow is the best fit for most publishers. However, in certain cases you might want to bypass our transcoding and directly playback the videos you upload. This article explains how to do so.</p>

<div class="article_callout">This document applies to users of <strong>JW Platform</strong>. Don&#39;t have Hosting? <a href="http://www.jwplayer.com/pricing/">Upgrade Now</a>.</div>

<h2>Cases &amp; Limitations</h2>

<p>Here are some reasons for bypassing our transcoding we encountered over time:</p>

<ul>
	<li>Your original video is already web optimized. Transcoding that video again results in encoding artefacts.</li>
	<li>Your original video contains certain metadata, like TX3G or ID3. That data is lost in the transcoding process.</li>
	<li>Your original video is a screencast, with minimal motion and very large keyframe interval. Transcoding that video will result in larger files than the original.</li>
</ul>

<p>Beware that direct playback of original videos also has its limitations, most notably:</p>

<ul>
	<li>As a publisher, you are responsible for compatibility of your video with desktop browsers and mobile devices. This means your original video must be in MP4 format, with H.264 video and AAC audio.</li>
	<li>Since there is only one version of your original video, JW Player cannot automatically adapt video quality to available bandwidth. This means that people on low bandwidth (e.g. 3G) may have excessive buffering, while people with broadband could have been served a higher quality.</li>
	<li>Your original video is delivered as progressive download instead of through RTMP/HLS streaming. This means that seeking in long-form content will be slow, especially on iOS/Android devices.</li>
	<li>Since content encryption is part of the RTMP/HLS streaming, your video delivery will be less secure. For example, a user can open up his browser&#39;s developer tools to find and download your original video. This is not possible with RTMP/HLS.</li>
</ul>

<h2>Player Config</h2>

<p>Configuring JW Platform to play original videos is done in the <em>Players</em> section of the dashboard. For each player, there is a <strong>Streaming</strong> option that must be set to progressive download with the <em>Passthrough</em> template:</p>

<p><img alt="Video details streaming option" src="/customer/portal/attachments/257548" /></p>

<p>Every video that is now published with this player will have its original upload played, instead of the adaptive stream.</p>

<h2>Download Links</h2>

<p>It is also possible to grab a direct download link to your original passthrough (or any transcode for that matter). For that, go to the <em>Videos</em> section and click the video you need. In the video properties, go to the <em>Transcodes</em> tab:</p>

<p><img alt="Video details streaming option" src="/customer/portal/attachments/257557" /></p>

<p>Clicking the blue publish buttons will reveal the direct download link of the videos. You can use these links to embed your video in 3rd party video players or systems.</p>

<p>You can also right-click the blue publish buttons to <em>Save As...</em> the video file.</p>
