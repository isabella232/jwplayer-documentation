<!DOCTYPE html>
<html>
<head>
    <title></title>

<script src="//content.jwplatform.com/libraries/XeGdlzmk.js"></script>

<meta name="deskURL" content="https://jwplayer.desk.com/admin/content-management/articles/1409745-display-related-videos/edit?select_filter=601064">
</head>

<body>
<p>This guide explains the features and options of the Related Videos overlay, through which viewers can find and watch additional videos. As of JW Player 7.2.0, the related plugin includes additional functionality, such as the ability to autoplay related videos with a timer. Here is an example of this in action:</p>

<div id="myElement">Loading the player...</div>
<script type="text/javascript">
var playerInstance = jwplayer("myElement");
playerInstance.setup({
file: '//content.jwplatform.com/videos/C4lp6Dtd-640.mp4',
related: {
  oncomplete: 'autoplay',
  file: '//content.jwplatform.com/feeds/EtO8vdvV.rss'
}
});
</script>

<h2>Configuration Options</h2>

<p>The related videos functionality is activated by setting the related configuration block. Inside this block, the following options can be set. The file option is required, all others are optional:</p>

<ul>
  <li><strong>file ( required )</strong><br />
  The URL of an RSS or JSON file with related videos, e.g. http://example.com/related.json</li>
  <li><strong>onclick</strong><br />
  Dictates the behavior when a related thumbnail is clicked. Can be set to:
  <ul>
    <li><strong>link(default) -</strong> Will redirect to another web page. (Based on the link field)</li>
    <li><strong>play -</strong> Will play a related video file inline. (Based on the file field)</li>
  </ul>
  </li>
  <li><strong>oncomplete</strong><br />
  Configures the behavior of the related plugin when a single video, or playlist, completes.
  <ul>
    <li><strong>show(default) - </strong> Displays a list of related videos instead of a replay button. Setting <strong>true</strong> will map to this configuration option for legacy purposes.</li>
    <li><strong>hide - </strong>Displays a replay button with the related overlay collapsed. Setting <strong>false</strong> will map to this configuration option for legacy purposes.</li>
    <li><strong>autoplay - </strong>Will automatically begin the next related video after 10 seconds. If MEDIAID replacement is not used, autoplay will cycle through the feed much like a playlist.<br />
    <strong>Note:</strong> Setting autoplay will override onclick behavior to <strong>play</strong>.</li>
  </ul>
  </li>
  <li><strong>autoplaytimer</strong><br />
  The number of seconds to wait before playing the next related video in your content list. Defaults to 10, or set to 0 to have your next related content to play immediately.</li>
  <li><strong>autoplaymessage</strong><br />
  A custom message that appears during autoplay. Uses xx as a replacement for the countdown timer.<br />
  A macro can also be used to replace aspects of the message, based on the next title included in the related feed with __title__.<br />
  So for example, using the following configuration:
  <p>&nbsp;</p>

  <pre>
__title__ will play in xx seconds! 
</pre>
  Will display as:<br />
  <strong>Awesome Movie Trailer will play in 10 seconds!</strong></li>
  <li><strong>heading</strong><br />
  Single line heading displayed above the grid with related videos when clicked and as a tooltip when the related icon is moused over. The default value is Related Videos.</li>
</ul>

<h2>Related API</h2>

<p>Similar to our new Sharing refactor, our Related Plugin has received a brand new API. Similar to sharing, the related api examples below will assume that the following code is implemented:</p>

<pre>
var relatedPlugin = jwplayer().getPlugin(&#39;related&#39;);
</pre>

<p><strong>As with all JW Player API calls, it is best practice to wait for on(&#39;ready&#39;). This ensures that the player is completely set up and prepared to send/receive via its API.</strong></p>

<h3>Setters</h3>

<ul>
  <li><strong>relatedPlugin.open();</strong><br />
  Opens the related plugin overlay. This will pause content if it is currently playing.</li>
  <li><strong>relatedPlugin.close();</strong><br />
  Closes the related plugin overlay. This will resume content.</li>
</ul>

<h3>Listeners</h3>

<ul>
  <li><strong>relatedPlugin.on(&#39;open&#39;);</strong><br />
  Triggers when the related plugin is opened.<br />
  <strong>Returns:</strong>

  <ul>
    <li><strong>method - </strong>The method used to open the plugin. (api, complete, or click)</li>
    <li><strong>url - </strong>URL of the feed that was loaded into the player.</li>
    <li><strong>items - </strong>An array of all objects that have been loaded into the related plugin.</li>
  </ul>
  </li>
  <li><strong>relatedPlugin.on(&#39;close&#39;);</strong><br />
  Triggers when the related plugin is closed.<br />
  <strong>Returns:</strong>
  <ul>
    <li><strong>method - The method used to close the plugin. (api or click)</strong></li>
  </ul>
  </li>
  <li><strong>relatedPlugin.on(&#39;play&#39;);</strong><br />
  Triggers when a user selects an object in a related feed.<br />
  <strong>Returns:</strong>
  <ul>
    <li><strong>item - </strong>Metadata for the chosen item specified in the feed.</li>
    <li><strong>auto - </strong>Returns true if started via autoplay; false if manually started.</li>
    <li><strong>position - </strong>Ordinal position of the related video that has been chosen.</li>
  </ul>
  </li>
</ul>

<h2>Example Setup</h2>

<p>Here is the setup of above example, setting the related videos file property and the link action. See the MP4 Video Embed for more info.</p>

<pre>
var playerInstance = jwplayer(&quot;container&quot;); 
playerInstance.setup({
file: &quot;/assets/tos.mp4&quot;,
related: {
file: &quot;/assets/tos-related.json&quot;,
onclick: &quot;link&quot;,
oncomplete: &#39;autoplay&#39;,
autoplaytimer: 10
}
});
</pre>

<h2>Feeds</h2>

<h3>RSS</h3>

<p>The RSS feed used for loading related videos is the same as the one used to load playlists. The</p>
<link />element sets the page URL to jump to when clicking a related videos thumbnail:
<pre>
&lt;rss version=&quot;2.0&quot; xmlns:media=&quot;http://search.yahoo.com/mrss/&quot;&gt;
&lt;channel&gt;
&lt;item&gt;
&lt;title&gt;Big Buck Bunny&lt;/title&gt;
&lt;link&gt;http://example.com/watch/28839&lt;/link&gt;
&lt;media:thumbnail url=&quot;http://example.com/thumbs/28839.jpg&quot;/&gt;
&lt;media:content url=&quot;http://example.com/videos/28839.mp4&quot; type=&quot;video/mp4&quot; /&gt;
&lt;guid isPermalink=&quot;false&quot;&gt;28839&lt;/guid&gt;
&lt;/item&gt;
&lt;item&gt;
&lt;title&gt;Elephant&#39;s Dream&lt;/title&gt;
&lt;link&gt;http://example.com/watch/8791&lt;/link&gt;
&lt;media:thumbnail url=&quot;http://example.com/thumbs/8791.jpg&quot;/&gt;
&lt;media:content url=&quot;http://example.com/videos/8791.mp4&quot; type=&quot;video/mp4&quot; /&gt;
&lt;guid isPermalink=&quot;false&quot;&gt;8791&lt;/guid&gt;
&lt;/item&gt;
&lt;/channel&gt;
&lt;/rss&gt;
</pre>

<p>Note that RSS feeds are subject to cross-domain security restrictions and therefore won&#39;t automatically load from another domain than the player without providing server access. See Crossdomain File Loading for more info.</p>

<p>If an item in the RSS feed does not contain the title and media:thumbnail elements, it is not displayed in the related videos overlay. If the onclick option is set to link, the link element is also required. If onclick is set to play, the media:content element is also required. If no items are found in the RSS feed, a No related videos found text is displayed instead of the grid of thumbnails.</p>

<h3>JSON</h3>

<p>As of JW Player 7.2.0, support for JSON feeds has also been added. Formatting for JSON feeds functions in the very same way as our standard JW Player playlists. The same information from our above RSS feeds would be formatted and used in a JSON file as follows:</p>

<pre>
[ 
{
&quot;title&quot;: &quot;Big Buck Bunny&quot;,
&quot;link&quot;: &quot;http://example.com/watch/28839&quot;,
&quot;image&quot;: &quot;http://example.com/thumbs/28839.jpg&quot;,
&quot;file&quot;: &quot;http://example.com/videos/28839.mp4&quot;,
&quot;mediaid&quot;: &quot;28839&quot;
},{
&quot;title&quot;: &quot;Elephant&#39;s Dream&quot;,
&quot;link&quot;: &quot;http://example.com/watch/8791&quot;,
&quot;image&quot;: &quot;http://example.com/thumbs/8791.jpg&quot;,
&quot;file&quot;: &quot;http://example.com/videos/8791.mp4&quot;,
&quot;mediaid&quot;: &quot;8791&quot;
}
]
</pre>

<h2>Media ID Replacement</h2>

<p>The Media ID Replacement feature allows JW Player to dynamically construct URLs to related videos RSS feeds. This is required in two situations:</p>

<h3>If you have a playlist with multiple videos and want to display related videos for each item.</h3>

<p>If you set the onclick option to play and want to display related videos of related videos.<br />
Here is an example embed using a simple playlist with 2 items:</p>

<pre>
var playerInstance = jwplayer(&quot;container&quot;); 
playerInstance.setup({
    playlist: [{ 
       file: &quot;/videos/12345.mp4&quot;,
       mediaid: &quot;12345&quot;
    },{
       file: &quot;/videos/67890.mp4&quot;,
       mediaid: &quot;67890&quot;
    }],
    related: {
      file: &quot;/related/MEDIAID.json&quot;
   }
 });
</pre>

<p>For the first item in the playlist, JW Player will request the JSON feed /related/12345.json. For the second item, JW Player will request the feed /related/67890.json.</p>

<p>If the items in these JSON feeds also contain a mediaid (using the guid element), JW Player is able to in turn construct a related videos URL and display related videos of these related videos:</p>

<pre>
[
{
&quot;title&quot;: &quot;Big Buck Bunny&quot;,
&quot;link&quot;: &quot;http://example.com/watch/28839&quot;,
&quot;image&quot;: &quot;http://example.com/thumbs/28839.jpg&quot;,
&quot;file&quot;: &quot;http://example.com/videos/28839.mp4&quot;
&quot;mediaid&quot;: &quot;28839&quot;
},{
&quot;title&quot;: &quot;Elephant&#39;s Dream&quot;,
&quot;link&quot;: &quot;http://example.com/watch/8791&quot;,
&quot;image&quot;: &quot;http://example.com/thumbs/8791.jpg&quot;,
&quot;file&quot;: &quot;http://example.com/8791.mp4&quot;,
&quot;mediaid&quot;: &quot;8791&quot;
}
]
</pre>

</body>
</html>